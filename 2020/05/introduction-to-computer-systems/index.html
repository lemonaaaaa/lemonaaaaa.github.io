<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>计算机系统基础 知识点梳理 | lemonaaaaa's blog</title><meta name="description" content="计算机系统基础 第一章到第三章 知识点梳理                                                    var ap &#x3D; new APlayer({             element: document.getElementById(&quot;aplayer-bYIQfxvy&quot;),             narrow: false,"><meta name="keywords" content="系统,笔记,汇编,计算机基础"><meta name="author" content="Lemon"><meta name="copyright" content="Lemon"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/titleimg.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://hm.baidu.com"/><link rel="dns-prefetch" href="https://hm.baidu.com"/><link rel="preconnect" href="http://ta.qq.com"/><link rel="dns-prefetch" href="http://ta.qq.com"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="ZD1QdtepkKN5fSHY-1GknpW3dUwbnKWvT_IYnyfJdFk"/><meta name="msvalidate.01" content="8009f043b001cb55c87e63fc759eb6f0"/><meta name="baidu-site-verification" content="STe1QdqeoAuNTlxn"/><meta name="360-site-verification" content="d182b3f28525f2db83acfaaf6e696dba"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="计算机系统基础 知识点梳理"><meta name="twitter:description" content="计算机系统基础 第一章到第三章 知识点梳理                                                    var ap &#x3D; new APlayer({             element: document.getElementById(&quot;aplayer-bYIQfxvy&quot;),             narrow: false,"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/cover.jpg"><meta property="og:type" content="article"><meta property="og:title" content="计算机系统基础 知识点梳理"><meta property="og:url" content="http://lemonaaaaa.com/2020/05/introduction-to-computer-systems/"><meta property="og:site_name" content="lemonaaaaa's blog"><meta property="og:description" content="计算机系统基础 第一章到第三章 知识点梳理                                                    var ap &#x3D; new APlayer({             element: document.getElementById(&quot;aplayer-bYIQfxvy&quot;),             narrow: false,"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/cover.jpg"><meta property="article:published_time" content="2020-05-02T15:41:15.000Z"><meta property="article:modified_time" content="2020-05-04T04:05:58.602Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = 'false'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="canonical" href="http://lemonaaaaa.com/2020/05/introduction-to-computer-systems/"><link rel="prev" title="git pull 之后本地恢复到之前版本" href="http://lemonaaaaa.com/2020/05/git-pull-recall/"><link rel="next" title="常见的一些User-Agent" href="http://lemonaaaaa.com/2020/04/user-agent/"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5/js/md5.min.js"></script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6fb6d817025f179aa02d92aa5d169936";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script src="https://tajs.qq.com/stats?sId=66515092" charset="UTF-8"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: {"languages":{"author":"作者: Lemon","link":"链接: ","source":"来源: lemonaaaaa's blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: true,
  fancybox: false,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="lemonaaaaa's blog" type="application/atom+xml">
<link rel="stylesheet" href="\assets\css\APlayer.min.css" class="aplayer-style-marker">
<script src="\assets\js\APlayer.min.js" class="aplayer-script-marker"></script>
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/avt-new.jpg" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">28</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">59</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">15</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li><li><a class="site-page" href="/lovetree"><i class="fa-fw fa fa-tree"></i><span> LoveTree</span></a></li><li><a class="site-page" href="/zerocup2019"><i class="fa-fw fa fa-trophy"></i><span> 零杯2019</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#center第一章-系统概述centerh1"><span class="toc-number">1.</span> <span class="toc-text"> 第一章 系统概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#为什么要学习计算机系统"><span class="toc-number">1.1.</span> <span class="toc-text"> 为什么要学习计算机系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#计算机基本工作原理"><span class="toc-number">1.2.</span> <span class="toc-text"> 计算机基本工作原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#冯诺依曼体系"><span class="toc-number">1.2.1.</span> <span class="toc-text"> 冯·诺依曼体系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#计算机是如何工作的"><span class="toc-number">1.2.2.</span> <span class="toc-text"> 计算机是如何工作的</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#程序的开发和执行"><span class="toc-number">1.3.</span> <span class="toc-text"> 程序的开发和执行</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#机器语言"><span class="toc-number">1.3.1.</span> <span class="toc-text"> 机器语言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#汇编语言"><span class="toc-number">1.3.2.</span> <span class="toc-text"> 汇编语言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#高级语言"><span class="toc-number">1.3.3.</span> <span class="toc-text"> 高级语言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#源代码的处理"><span class="toc-number">1.3.4.</span> <span class="toc-text"> 源代码的处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#计算机的层次结构"><span class="toc-number">1.4.</span> <span class="toc-text"> 计算机的层次结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#计算机性能的定义"><span class="toc-number">1.5.</span> <span class="toc-text"> 计算机性能的定义</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#center第二章-数据的机器级表示与处理center"><span class="toc-number">2.</span> <span class="toc-text"> 第二章 数据的机器级表示与处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#数制和编码"><span class="toc-number">2.1.</span> <span class="toc-text"> 数制和编码</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#数制"><span class="toc-number">2.1.1.</span> <span class="toc-text"> 数制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定点数和浮点数"><span class="toc-number">2.1.2.</span> <span class="toc-text"> 定点数和浮点数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定点数的编码"><span class="toc-number">2.1.3.</span> <span class="toc-text"> 定点数的编码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#c语言中的数"><span class="toc-number">2.2.</span> <span class="toc-text"> C语言中的数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#整数"><span class="toc-number">2.2.1.</span> <span class="toc-text"> 整数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#浮点数"><span class="toc-number">2.2.2.</span> <span class="toc-text"> 浮点数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#非数值表示"><span class="toc-number">2.3.</span> <span class="toc-text"> 非数值表示</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#西文字符"><span class="toc-number">2.3.1.</span> <span class="toc-text"> 西文字符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#汉字"><span class="toc-number">2.3.2.</span> <span class="toc-text"> 汉字</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据宽度和储存容量"><span class="toc-number">2.4.</span> <span class="toc-text"> 数据宽度和储存容量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#容量单位"><span class="toc-number">2.4.1.</span> <span class="toc-text"> 容量单位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#通信中的带宽单位"><span class="toc-number">2.4.2.</span> <span class="toc-text"> 通信中的带宽单位</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#c语言中数据类型的宽度"><span class="toc-number">2.4.3.</span> <span class="toc-text"> C语言中数据类型的宽度</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据的存储和排列顺序"><span class="toc-number">2.5.</span> <span class="toc-text"> 数据的存储和排列顺序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#大小端方式"><span class="toc-number">2.5.1.</span> <span class="toc-text"> 大&#x2F;小端方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数字逻辑电路"><span class="toc-number">2.6.</span> <span class="toc-text"> 数字逻辑电路</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#布尔代数"><span class="toc-number">2.6.1.</span> <span class="toc-text"> 布尔代数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#全加器一位加法器"><span class="toc-number">2.6.2.</span> <span class="toc-text"> 全加器(一位加法器)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#n位加法器"><span class="toc-number">2.6.3.</span> <span class="toc-text"> n位加法器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#无符号整数加"><span class="toc-number">2.6.3.1.</span> <span class="toc-text"> 无符号整数加</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#带符号整数加"><span class="toc-number">2.6.3.2.</span> <span class="toc-text"> 带符号整数加</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#n位整数加减运算器"><span class="toc-number">2.6.4.</span> <span class="toc-text"> n位整数加&#x2F;减运算器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据的运算"><span class="toc-number">2.7.</span> <span class="toc-text"> 数据的运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#整数的加减运算"><span class="toc-number">2.8.</span> <span class="toc-text"> 整数的加减运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#无符号数"><span class="toc-number">2.8.1.</span> <span class="toc-text"> 无符号数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#带符号数"><span class="toc-number">2.8.2.</span> <span class="toc-text"> 带符号数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#center第三章-程序的转换及机器级表示center"><span class="toc-number">3.</span> <span class="toc-text"> 第三章 程序的转换及机器级表示</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#概述"><span class="toc-number">3.1.</span> <span class="toc-text"> 概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ia-32-指令系统"><span class="toc-number">3.2.</span> <span class="toc-text"> IA-32 指令系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#概述-2"><span class="toc-number">3.2.1.</span> <span class="toc-text"> 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#寄存器组织"><span class="toc-number">3.2.1.1.</span> <span class="toc-text"> 寄存器组织</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#标志寄存器"><span class="toc-number">3.2.1.2.</span> <span class="toc-text"> 标志寄存器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#保护模式下的寻址方式"><span class="toc-number">3.2.1.3.</span> <span class="toc-text"> 保护模式下的寻址方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#机器指令格式"><span class="toc-number">3.2.1.4.</span> <span class="toc-text"> 机器指令格式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#指令类型"><span class="toc-number">3.2.2.</span> <span class="toc-text"> 指令类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#传送指令"><span class="toc-number">3.2.2.1.</span> <span class="toc-text"> 传送指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#定点算术指令"><span class="toc-number">3.2.2.2.</span> <span class="toc-text"> 定点算术指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#按位运算"><span class="toc-number">3.2.2.3.</span> <span class="toc-text"> 按位运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#控制转移指令"><span class="toc-number">3.2.2.4.</span> <span class="toc-text"> 控制转移指令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#c语言程序的机器级表示"><span class="toc-number">3.3.</span> <span class="toc-text"> C语言程序的机器级表示</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#过程调用的机器级表示"><span class="toc-number">3.3.1.</span> <span class="toc-text"> 过程调用的机器级表示</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#过程调用的执行步骤"><span class="toc-number">3.3.1.1.</span> <span class="toc-text"> 过程调用的执行步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ia-32的寄存器使用约定"><span class="toc-number">3.3.1.2.</span> <span class="toc-text"> IA-32的寄存器使用约定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#过程函数的结构"><span class="toc-number">3.3.1.3.</span> <span class="toc-text"> 过程（函数）的结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#选择和循环语句"><span class="toc-number">3.3.1.4.</span> <span class="toc-text"> 选择和循环语句</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#复杂数据类型的分配和访问"><span class="toc-number">3.4.</span> <span class="toc-text"> 复杂数据类型的分配和访问</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#数组"><span class="toc-number">3.4.1.</span> <span class="toc-text"> 数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#结构体和联合体"><span class="toc-number">3.4.2.</span> <span class="toc-text"> 结构体和联合体</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#结构体成员在内存的存放和访问"><span class="toc-number">3.4.2.1.</span> <span class="toc-text"> 结构体成员在内存的存放和访问</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#联合体数据的分配和访问"><span class="toc-number">3.4.2.2.</span> <span class="toc-text"> 联合体数据的分配和访问</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数据的对齐存放"><span class="toc-number">3.4.3.</span> <span class="toc-text"> 数据的对齐存放</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#为什么要对齐"><span class="toc-number">3.4.3.1.</span> <span class="toc-text"> 为什么要对齐</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#对齐方式的设定"><span class="toc-number">3.4.3.2.</span> <span class="toc-text"> 对齐方式的设定</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#越界访问和缓冲区溢出"><span class="toc-number">3.4.4.</span> <span class="toc-text"> 越界访问和缓冲区溢出</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#x86-64-体系"><span class="toc-number">3.5.</span> <span class="toc-text"> x86-64 体系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#x86-64操作数格式"><span class="toc-number">3.5.1.</span> <span class="toc-text"> x86-64操作数格式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#x86-64寄存器"><span class="toc-number">3.5.2.</span> <span class="toc-text"> x86-64寄存器</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/default_top_img.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">lemonaaaaa's blog</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li><li><a class="site-page" href="/lovetree"><i class="fa-fw fa fa-tree"></i><span> LoveTree</span></a></li><li><a class="site-page" href="/zerocup2019"><i class="fa-fw fa fa-trophy"></i><span> 零杯2019</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">计算机系统基础 知识点梳理</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-05-02 23:41:15"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-05-02</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-05-04 12:05:58"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-05-04</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Code-life/">Code life</a><i class="fa fa-angle-right post-meta__separator" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Code-life/System/">System</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon fa fa-file-word-o" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">9.7k</span><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-clock-o" aria-hidden="true"></i><span>阅读时长: 37 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>评论数:</span><a href="/2020/05/introduction-to-computer-systems/#post-comment"><span class="gitalk-comment-count comment-count"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><p>计算机系统基础 第一章到第三章 知识点梳理</p>

        <div id="aplayer-bYIQfxvy" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">
            <pre class="aplayer-lrc-content"></pre>
        </div>
        <script>
          var ap = new APlayer({
            element: document.getElementById("aplayer-bYIQfxvy"),
            narrow: false,
            autoplay: true,
            showlrc: 3,
            music: {
              title: "蝴蝶之夏",
              author: "房东的猫",
              url: "https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/music/hudiezhixia.mp3",
              pic: "https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/music/hudiezhixia.jpg",
              lrc: "https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/music/hudiezhixia.lrc"
            }
          });
          window.aplayers || (window.aplayers = []);
          window.aplayers.push(ap);
        </script>
<h1 id="center第一章-系统概述centerh1"><a class="markdownIt-Anchor" href="#center第一章-系统概述centerh1"></a> <center>第一章 系统概述</center></h1></h1>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/1-1.png" alt="1-1" /></p>
<p>这张图说的真的好，虽然和知识没有什么关系，最初看到也觉得没什么，但是学了大半学期再倒回来看这些话，我认为是十分正确的。同样的代码，不同的写法，效率可能差上成百上千倍。然后就是特别是通过<code>bomb lab</code>，做了之后我对整个C语言的理解都不一样了。知其然，更要知其所以然，可能这就是系统的魅力吧！</p>
<h2 id="为什么要学习计算机系统"><a class="markdownIt-Anchor" href="#为什么要学习计算机系统"></a> 为什么要学习计算机系统</h2>
<ul>
<li>为了编程序的时候少出错（逻辑性，准确性，内存溢出等）</li>
<li>为了在程序出错的时候很快找到出错的地方（gdb调试，或者直接查看汇编指令，找到错误）</li>
<li>为了明白程序是怎样在计算机上执行的（利用程序执行的原理，可以编写出更快的程序）</li>
<li>作为计算机专业的同学应该具有的底层意识。</li>
</ul>
<h2 id="计算机基本工作原理"><a class="markdownIt-Anchor" href="#计算机基本工作原理"></a> 计算机基本工作原理</h2>
<p>一些基本的概念。</p>
<h3 id="冯诺依曼体系"><a class="markdownIt-Anchor" href="#冯诺依曼体系"></a> 冯·诺依曼体系</h3>
<p>冯·诺依曼结构最重要的思想是<font color="red">存储程序</font>。</p>
<ol>
<li>计算机的基本部件：控制器、存储器、运算器、输入设备和输出设备。<s>（计导必考题目！！）</s></li>
<li><font color="red">存储器</font>不仅能存放数据，而且也能存放指令，形式上两者 没有区别，但计算机应能区分数据还是指令。</li>
<li><font color="red">控制器</font>应能自动取出指令来执行。</li>
<li><font color="red">运算器</font>应能进行加/减/乘/除四种基本算术运算，并且也 能进行一些逻辑运算和附加运算。</li>
<li>操作人员可以通过<font color="red">输入设备、输出设备</font>和主机进行通信。</li>
<li>内部以<font color="red">二进制表示</font>指令和数据。每条指令由<font color="red">操作码和地址码</font>两部分组成。操作码指出操作类型，地址码指出操作数的地址。由一串指令组成程序。</li>
<li>采用<font color="red">“存储程序”</font>工作方式。</li>
</ol>
<h3 id="计算机是如何工作的"><a class="markdownIt-Anchor" href="#计算机是如何工作的"></a> 计算机是如何工作的</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/1-1-2.png" alt="1-1-2" /></p>
<p>图中的部件解释：</p>
<ul>
<li><code>CPU</code>：中央处理器</li>
<li><code>PC</code>：程序计数器</li>
<li><code>MAR</code>：存储器地址寄存器</li>
<li><code>ALU</code>：算术逻辑部件</li>
<li><code>IR</code>：指令寄存器</li>
<li><code>MDR</code>：存储器数据寄存器</li>
<li><code>GPRs</code>：通用寄存器组（由若干通用寄存器组成，早期就是累加器）</li>
</ul>
<p><font color="red">程序执行前：</font></p>
<p>数据和指令事先存放在存储器中，每条指令和每个数据都有地址，指令按序存放，指令由<code>OP</code>、<code>ADDR</code>字段组成，程序起始地址置<code>PC</code></p>
<p><font color="red">注意：</font></p>
<ol>
<li>程序启动前，指令和数据都存放在存储器中，<font color="red">形式上没有差别，都是0/1序列</font></li>
<li>采用”存储程序“工作方式：程序由指令组成，程序被启动后，计算机能自动取出一条一条指令执行，在执行过程中无需人的干预。</li>
<li><font color="red">指令中需要给出的信息：</font><br>(1) 操作性质（操作码）<br>(2) 源操作数1 或/和源操作数2（立即数、寄存器编号、存储地址）<br>(3) 目的操作数地址（寄存器编号、存储地址）</li>
</ol>
<p><font color="red">开始执行程序：</font></p>
<ul>
<li>第一步：根据<code>PC</code>取指令</li>
<li>第二步：指令译码</li>
<li>第三步：取操作数</li>
<li>第四步：指令执行</li>
<li>第五步：回写结果</li>
<li>第六步：修改<code>PC</code>的值</li>
<li>继续执行下一条指令</li>
</ul>
<h2 id="程序的开发和执行"><a class="markdownIt-Anchor" href="#程序的开发和执行"></a> 程序的开发和执行</h2>
<h3 id="机器语言"><a class="markdownIt-Anchor" href="#机器语言"></a> 机器语言</h3>
<p>机器语言就是0/1代码啦！在计算机科学导论中我们也动手写了图灵机的操作（虽然我们班好像没有要求，但因为某种原因我写过几份，现在回想起来也挺有趣的）。感觉机器语言和图灵机有点类似，通过读写纸带和打孔之类的。</p>
<p><font color="red">但是，如果要修改，或者打错了，那么就要从头再来，非常地崩溃，可读性也非常差。</font></p>
<h3 id="汇编语言"><a class="markdownIt-Anchor" href="#汇编语言"></a> 汇编语言</h3>
<ul>
<li>用助记符表示操作码</li>
<li>用标号表示位置</li>
<li>用助记符表示寄存器</li>
</ul>
<p>优点：</p>
<ul>
<li>不会因为增减指令而需要修改其他指令</li>
<li>不需记忆指令编码，编写方便</li>
<li>可读性比机器语言强</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/1-2-2.png" alt="1-2-2" /></p>
<h3 id="高级语言"><a class="markdownIt-Anchor" href="#高级语言"></a> 高级语言</h3>
<ul>
<li>它们与具体机器结构无关</li>
<li>面向算法描述，比机器级语言描述能力强得多</li>
<li>高级语言中一条语句对应几条、几十条甚至几百条指令</li>
<li>有“面向过程”和“面向对象”的语言之分</li>
<li>处理逻辑分为三种结构：顺序结构、选择结构、循环结构</li>
<li>有两种转换方式：“编译”和“解释” <br>• 编译程序(Complier)：将高级语言源程序转换为机器级目标程序，执行时只要启动目标程序即可，比如C++、C、Java等<br>• 解释程序(Interpreter )：将高级语言语句逐条翻译成机器指令并立即执行，不生成目标文件，比如Python等</li>
</ul>
<h3 id="源代码的处理"><a class="markdownIt-Anchor" href="#源代码的处理"></a> 源代码的处理</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/1-2-3-1.png" alt="1-2-3-1" /></p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/1-2-3-2.png" alt="1-2-3-2" /></p>
<h2 id="计算机的层次结构"><a class="markdownIt-Anchor" href="#计算机的层次结构"></a> 计算机的层次结构</h2>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/1-3-1.png" alt="1-3-1" /></p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/1-3-2.png" alt="1-3-2" /></p>
<h2 id="计算机性能的定义"><a class="markdownIt-Anchor" href="#计算机性能的定义"></a> 计算机性能的定义</h2>
<p>这部分在书上有，mooc上没有。其主要指标为<code>吞吐率(throughput)</code>和<code>响应时间(response time)</code></p>
<ol>
<li>吞吐率：在单位时间内所完成的工作量。</li>
<li>响应时间：从作业提交开始到作业完成所用的时间。</li>
</ol>
<h1 id="center第二章-数据的机器级表示与处理center"><a class="markdownIt-Anchor" href="#center第二章-数据的机器级表示与处理center"></a> <center>第二章 数据的机器级表示与处理</center></h1>
<h2 id="数制和编码"><a class="markdownIt-Anchor" href="#数制和编码"></a> 数制和编码</h2>
<ul>
<li>十进制、二进制、十六进制、八进制……</li>
<li>定/浮点表示</li>
</ul>
<h3 id="数制"><a class="markdownIt-Anchor" href="#数制"></a> 数制</h3>
<ol>
<li>十进制(Decimal)：结尾加<code>D</code>表示。</li>
<li>二进制(Binary)：结尾加<code>B</code>表示。</li>
<li>八进制(Octal)：结尾加<code>O</code>表示。</li>
<li>十六进制(Hexadecimal)：结尾加<code>H</code>表示或者前缀加<code>0x</code>表示。</li>
</ol>
<p>进制转换：</p>
<p>整数部分：除基取余，上左下右<br />
小数部分：乘基取整，上左下右</p>
<h3 id="定点数和浮点数"><a class="markdownIt-Anchor" href="#定点数和浮点数"></a> 定点数和浮点数</h3>
<p>计算机中只能通过约定小数点的位置来表示小数点</p>
<ul>
<li>小数点位置约定在固定位置的数称为定点数</li>
<li>小数点位置约定为可浮动的数称为浮点数</li>
</ul>
<p>实数的定义：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi><mo>=</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mi>s</mi></msup><mo>×</mo><mi>M</mi><mo>×</mo><msup><mi>R</mi><mi>E</mi></msup></mrow><annotation encoding="application/x-tex">X=(-1)^s \times M \times R^E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8413309999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413309999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05764em;">E</span></span></span></span></span></span></span></span></span></span></span><br />
其中<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span></span></span></span>取值为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>或者<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，用来决定数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span>的符号；<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>是尾数，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span>是阶/指数。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span></span></span></span>是基数。</p>
<h3 id="定点数的编码"><a class="markdownIt-Anchor" href="#定点数的编码"></a> 定点数的编码</h3>
<p>原码、补码、移码、反码</p>
<ol>
<li>原码：最高位的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>/<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>表示正负，数值部分不变。但是缺点有：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>的表示不唯一，不利于编程；加减运算方式不统一；对硬件设计的要求较高；特别是当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>&lt;</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a&lt;b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>时候，实现<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>−</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a-b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span></span></span></span>比较困难。</li>
<li>补码（从50年代以来整数采用的编码方式）：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>X</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>=</mo><msup><mn>2</mn><mi>n</mi></msup><mo>+</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">[X]_\text{补}=2^n + X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.747722em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span>。同时补码实现了加和减的统一。<br>结论一：一个负数的补码等于<font color="red">模减该负数的绝对值</font><br>结论二：对于某一确定的模，某数减去小于模的另一数，总可以用该数加上另一数负数的补码来代替<font color="red">实现了加法和减法的统一</font>。 <br><font color="red">变形补码</font>：采用双符号位存放可能溢出的中间结果。<br>负数的补码的简便求法：从右至左遇到的第一个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>的前面各位取反（不含这个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>）</li>
<li>移码：<font color="red">将每一个数值加上一个偏置常数<code>bias</code>。</font><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-1-3-1.png" alt="2-1-3-1" /></li>
<li>反码：直接将二进制按位取反，一般没什么用。</li>
</ol>
<h2 id="c语言中的数"><a class="markdownIt-Anchor" href="#c语言中的数"></a> C语言中的数</h2>
<h3 id="整数"><a class="markdownIt-Anchor" href="#整数"></a> 整数</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-2-1-1.png" alt="2-2-1-1" /></p>
<p>其中整数类型分为带符号整数和无符号整数。</p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-2-1-2.png" alt="2-2-1-2" /></p>
<p>整数表示比较简单，大概熟悉C语言的程序员都掌握的比较好。</p>
<h3 id="浮点数"><a class="markdownIt-Anchor" href="#浮点数"></a> 浮点数</h3>
<p>浮点数的表示就很复杂了，编码上有许多细节。</p>
<p>首先是对科学计数法的概念：</p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-2-2-1.png" alt="2-2-2-1" /></p>
<ul>
<li>浮点数的表示范围：</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-2-2-2.png" alt="2-2-2-2" /></p>
<p>第0位数符S；第1-8位为8位移码表示阶码<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span>（偏置常数为128）<br />
第9～31位为24位二进制原码小数表示的尾数<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span></span></span></span>。规格化尾数的小数点后第一位总是1，故规定第一位默认的“1”不明显表示出来。这样可用23个 数位表示24位尾数</p>
<p>最大正数：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0.11</mn><mo>…</mo><mn>1</mn><mo>×</mo><msup><mn>2</mn><mrow><mn>11</mn><mo>…</mo><mn>11</mn></mrow></msup><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msup><mn>2</mn><mrow><mo>−</mo><mn>24</mn></mrow></msup><mo stretchy="false">)</mo><mo>×</mo><msup><mn>2</mn><mn>127</mn></msup></mrow><annotation encoding="application/x-tex">0.11 \dots 1 \times 2^{11 \dots 11} = (1-2^{-24}) \times 2 ^{127}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">1</span><span class="mord">1</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span><span class="minner mtight">…</span><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">2</span><span class="mord mtight">4</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span></span><br />
最小正数：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0.10</mn><mo>…</mo><mn>0</mn><mo>×</mo><msup><mn>2</mn><mrow><mn>00</mn><mo>…</mo><mn>0</mn></mrow></msup><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">)</mo><mo>×</mo><msup><mn>2</mn><mrow><mo>−</mo><mn>128</mn></mrow></msup></mrow><annotation encoding="application/x-tex">0.10 \dots 0 \times 2^{00 \dots 0} = (1/2) \times 2^{-128}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">1</span><span class="mord">0</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="mord mtight">0</span><span class="minner mtight">…</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">/</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span><span class="mord mtight">2</span><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-2-2-3.png" alt="2-2-2-3" /></p>
<ul>
<li>IEEE 754 标准<font color="red">(重点)</font></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-2-2-4.png" alt="2-2-2-4" /></p>
<ul>
<li>规格化数</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">Exponent</th>
<th style="text-align:center">Significand</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1-254</td>
<td style="text-align:center">任意小数点前隐含1</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">+/-0</td>
</tr>
<tr>
<td style="text-align:center">255</td>
<td style="text-align:center">0</td>
<td style="text-align:center">+/-inf</td>
</tr>
<tr>
<td style="text-align:center">255</td>
<td style="text-align:center">nonzero</td>
<td style="text-align:center">NaN</td>
</tr>
</tbody>
</table>
<ul>
<li>非规格化数</li>
</ul>
<p>当 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mi>x</mi><mi>p</mi><mi>o</mi><mi>n</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo>=</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">Exponent == 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault">x</span><span class="mord mathdefault">p</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mord mathdefault">e</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 并且 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>i</mi><mi>g</mi><mi>n</mi><mi>i</mi><mi>f</mi><mi>i</mi><mi>c</mi><mi>a</mi><mi>n</mi><mi>d</mi><mo stretchy="false">!</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">Significand != 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">n</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">i</span><span class="mord mathdefault">c</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">d</span><span class="mclose">!</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 时，用来表示非规格化数。</p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-2-2-5.png" alt="2-2-2-5" /></p>
<h2 id="非数值表示"><a class="markdownIt-Anchor" href="#非数值表示"></a> 非数值表示</h2>
<h3 id="西文字符"><a class="markdownIt-Anchor" href="#西文字符"></a> 西文字符</h3>
<p><font color="red"><center>ASCII控制字符</center></font></p>
<table width="100%" border="0" cellpadding="0" cellspacing="0" class="bx">
<thead>
<tr valign="bottom">
<th>二进制</th>
<th>十进制</th>
<th>十六进制</th>
<th>缩写</th>
<th>可以显示的表示法</th>
<th>名称/意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>0000&nbsp;0000</td>
<td align="center">0</td>
<td align="center">00</td>
<td align="center">NUL</td>
<td align="center" class="xianshi">␀</td>
<td>空字符（Null）</td>
</tr>
<tr>
<td>0000&nbsp;0001</td>
<td align="center">1</td>
<td align="center">01</td>
<td align="center">SOH</td>
<td align="center" class="xianshi">␁</td>
<td>标题开始</td>
</tr>
<tr>
<td>0000&nbsp;0010</td>
<td align="center">2</td>
<td align="center">02</td>
<td align="center">STX</td>
<td align="center" class="xianshi">␂</td>
<td>本文开始</td>
</tr>
<tr>
<td>0000&nbsp;0011</td>
<td align="center">3</td>
<td align="center">03</td>
<td align="center">ETX</td>
<td align="center" class="xianshi">␃</td>
<td>本文结束</td>
</tr>
<tr>
<td>0000&nbsp;0100</td>
<td align="center">4</td>
<td align="center">04</td>
<td align="center">EOT</td>
<td align="center" class="xianshi">␄</td>
<td>传输结束</td>
</tr>
<tr>
<td>0000&nbsp;0101</td>
<td align="center">5</td>
<td align="center">05</td>
<td align="center">ENQ</td>
<td align="center" class="xianshi">␅</td>
<td>请求</td>
</tr>
<tr>
<td>0000&nbsp;0110</td>
<td align="center">6</td>
<td align="center">06</td>
<td align="center">ACK</td>
<td align="center" class="xianshi">␆</td>
<td>确认回应</td>
</tr>
<tr>
<td>0000&nbsp;0111</td>
<td align="center">7</td>
<td align="center">07</td>
<td align="center">BEL</td>
<td align="center" class="xianshi">␇</td>
<td>响铃</td>
</tr>
<tr>
<td>0000&nbsp;1000</td>
<td align="center">8</td>
<td align="center">08</td>
<td align="center">BS</td>
<td align="center" class="xianshi">␈</td>
<td>退格</td>
</tr>
<tr>
<td>0000&nbsp;1001</td>
<td align="center">9</td>
<td align="center">09</td>
<td align="center">HT</td>
<td align="center" class="xianshi">␉</td>
<td>水平定位符号</td>
</tr>
<tr>
<td>0000&nbsp;1010</td>
<td align="center">10</td>
<td align="center">0A</td>
<td align="center">LF</td>
<td align="center" class="xianshi">␊</td>
<td>换行键</td>
</tr>
<tr>
<td>0000&nbsp;1011</td>
<td align="center">11</td>
<td align="center">0B</td>
<td align="center">VT</td>
<td align="center" class="xianshi">␋</td>
<td>垂直定位符号</td>
</tr>
<tr>
<td>0000&nbsp;1100</td>
<td align="center">12</td>
<td align="center">0C</td>
<td align="center">FF</td>
<td align="center" class="xianshi">␌</td>
<td>换页键</td>
</tr>
<tr>
<td>0000&nbsp;1101</td>
<td align="center">13</td>
<td align="center">0D</td>
<td align="center">CR</td>
<td align="center" class="xianshi">␍</td>
<td>归位键</td>
</tr>
<tr>
<td>0000&nbsp;1110</td>
<td align="center">14</td>
<td align="center">0E</td>
<td align="center">SO</td>
<td align="center" class="xianshi">␎</td>
<td>取消变换（Shift out）</td>
</tr>
<tr>
<td>0000&nbsp;1111</td>
<td align="center">15</td>
<td align="center">0F</td>
<td align="center">SI</td>
<td align="center" class="xianshi">␏</td>
<td>启用变换（Shift in）</td>
</tr>
<tr>
<td>0001&nbsp;0000</td>
<td align="center">16</td>
<td align="center">10</td>
<td align="center">DLE</td>
<td align="center" class="xianshi">␐</td>
<td>跳出数据通讯</td>
</tr>
<tr>
<td>0001&nbsp;0001</td>
<td align="center">17</td>
<td align="center">11</td>
<td align="center">DC1</td>
<td align="center" class="xianshi">␑</td>
<td>设备控制一（XON 启用软件速度控制）</td>
</tr>
<tr>
<td>0001&nbsp;0010</td>
<td align="center">18</td>
<td align="center">12</td>
<td align="center">DC2</td>
<td align="center" class="xianshi">␒</td>
<td>设备控制二</td>
</tr>
<tr>
<td>0001&nbsp;0011</td>
<td align="center">19</td>
<td align="center">13</td>
<td align="center">DC3</td>
<td align="center" class="xianshi">␓</td>
<td>设备控制三（XOFF 停用软件速度控制）</td>
</tr>
<tr>
<td>0001&nbsp;0100</td>
<td align="center">20</td>
<td align="center">14</td>
<td align="center">DC4</td>
<td align="center" class="xianshi">␔</td>
<td>设备控制四</td>
</tr>
<tr>
<td>0001&nbsp;0101</td>
<td align="center">21</td>
<td align="center">15</td>
<td align="center">NAK</td>
<td align="center" class="xianshi">␕</td>
<td>确认失败回应</td>
</tr>
<tr>
<td>0001&nbsp;0110</td>
<td align="center">22</td>
<td align="center">16</td>
<td align="center">SYN</td>
<td align="center" class="xianshi">␖</td>
<td>同步用暂停</td>
</tr>
<tr>
<td>0001&nbsp;0111</td>
<td align="center">23</td>
<td align="center">17</td>
<td align="center">ETB</td>
<td align="center" class="xianshi">␗</td>
<td>区块传输结束</td>
</tr>
<tr>
<td>0001&nbsp;1000</td>
<td align="center">24</td>
<td align="center">18</td>
<td align="center">CAN</td>
<td align="center" class="xianshi">␘</td>
<td>取消</td>
</tr>
<tr>
<td>0001&nbsp;1001</td>
<td align="center">25</td>
<td align="center">19</td>
<td align="center">EM</td>
<td align="center" class="xianshi">␙</td>
<td>连接介质中断</td>
</tr>
<tr>
<td>0001&nbsp;1010</td>
<td align="center">26</td>
<td align="center">1A</td>
<td align="center">SUB</td>
<td align="center" class="xianshi">␚</td>
<td>替换</td>
</tr>
<tr>
<td>0001&nbsp;1011</td>
<td align="center">27</td>
<td align="center">1B</td>
<td align="center">ESC</td>
<td align="center" class="xianshi">␛</td>
<td>跳出</td>
</tr>
<tr>
<td>0001&nbsp;1100</td>
<td align="center">28</td>
<td align="center">1C</td>
<td align="center">FS</td>
<td align="center" class="xianshi">␜</td>
<td>文件分割符</td>
</tr>
<tr>
<td>0001&nbsp;1101</td>
<td align="center">29</td>
<td align="center">1D</td>
<td align="center">GS</td>
<td align="center" class="xianshi">␝</td>
<td>组群分隔符</td>
</tr>
<tr>
<td>0001&nbsp;1110</td>
<td align="center">30</td>
<td align="center">1E</td>
<td align="center">RS</td>
<td align="center" class="xianshi">␞</td>
<td>记录分隔符</td>
</tr>
<tr>
<td>0001&nbsp;1111</td>
<td align="center">31</td>
<td align="center">1F</td>
<td align="center">US</td>
<td align="center" class="xianshi">␟</td>
<td>单元分隔符</td>
</tr>
<tr>
<td>0111&nbsp;1111</td>
<td align="center">127</td>
<td align="center">7F</td>
<td align="center">DEL</td>
<td align="center" class="xianshi">␡</td>
<td>删除</td>
</tr>
</tbody>
</table>
<p><font color="red"><center>ASCII可显示字符</center></font></p>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tbody><tr valign="top">
<td>
<table width="100%" border="0" cellpadding="0" cellspacing="0" class="bx">
<thead>
<tr valign="bottom">
<th>二进制</th>
<th>十进制</th>
<th>十六进制</th>
<th>图形</th>
</tr>
</thead>
<tbody>
<tr>
<td>0010&nbsp;0000</td>
<td align="center">32</td>
<td align="center">20</td>
<td align="center">（空格）(␠)</td>
</tr>
<tr>
<td>0010&nbsp;0001</td>
<td align="center">33</td>
<td align="center">21</td>
<td align="center">!</td>
</tr>
<tr>
<td>0010&nbsp;0010</td>
<td align="center">34</td>
<td align="center">22</td>
<td align="center">"</td>
</tr>
<tr>
<td>0010&nbsp;0011</td>
<td align="center">35</td>
<td align="center">23</td>
<td align="center">#</td>
</tr>
<tr>
<td>0010&nbsp;0100</td>
<td align="center">36</td>
<td align="center">24</td>
<td align="center">$</td>
</tr>
<tr>
<td>0010&nbsp;0101</td>
<td align="center">37</td>
<td align="center">25</td>
<td align="center">&nbsp;%</td>
</tr>
<tr>
<td>0010&nbsp;0110</td>
<td align="center">38</td>
<td align="center">26</td>
<td align="center">&amp;</td>
</tr>
<tr>
<td>0010&nbsp;0111</td>
<td align="center">39</td>
<td align="center">27</td>
<td align="center">'</td>
</tr>
<tr>
<td>0010&nbsp;1000</td>
<td align="center">40</td>
<td align="center">28</td>
<td align="center">(</td>
</tr>
<tr>
<td>0010&nbsp;1001</td>
<td align="center">41</td>
<td align="center">29</td>
<td align="center">)</td>
</tr>
<tr>
<td>0010&nbsp;1010</td>
<td align="center">42</td>
<td align="center">2A</td>
<td align="center">*</td>
</tr>
<tr>
<td>0010&nbsp;1011</td>
<td align="center">43</td>
<td align="center">2B</td>
<td align="center">+</td>
</tr>
<tr>
<td>0010&nbsp;1100</td>
<td align="center">44</td>
<td align="center">2C</td>
<td align="center">,</td>
</tr>
<tr>
<td>0010&nbsp;1101</td>
<td align="center">45</td>
<td align="center">2D</td>
<td align="center">-</td>
</tr>
<tr>
<td>0010&nbsp;1110</td>
<td align="center">46</td>
<td align="center">2E</td>
<td align="center">.</td>
</tr>
<tr>
<td>0010&nbsp;1111</td>
<td align="center">47</td>
<td align="center">2F</td>
<td align="center">/</td>
</tr>
<tr>
<td>0011&nbsp;0000</td>
<td align="center">48</td>
<td align="center">30</td>
<td align="center">0</td>
</tr>
<tr>
<td>0011&nbsp;0001</td>
<td align="center">49</td>
<td align="center">31</td>
<td align="center">1</td>
</tr>
<tr>
<td>0011&nbsp;0010</td>
<td align="center">50</td>
<td align="center">32</td>
<td align="center">2</td>
</tr>
<tr>
<td>0011&nbsp;0011</td>
<td align="center">51</td>
<td align="center">33</td>
<td align="center">3</td>
</tr>
<tr>
<td>0011&nbsp;0100</td>
<td align="center">52</td>
<td align="center">34</td>
<td align="center">4</td>
</tr>
<tr>
<td>0011&nbsp;0101</td>
<td align="center">53</td>
<td align="center">35</td>
<td align="center">5</td>
</tr>
<tr>
<td>0011&nbsp;0110</td>
<td align="center">54</td>
<td align="center">36</td>
<td align="center">6</td>
</tr>
<tr>
<td>0011&nbsp;0111</td>
<td align="center">55</td>
<td align="center">37</td>
<td align="center">7</td>
</tr>
<tr>
<td>0011&nbsp;1000</td>
<td align="center">56</td>
<td align="center">38</td>
<td align="center">8</td>
</tr>
<tr>
<td>0011&nbsp;1001</td>
<td align="center">57</td>
<td align="center">39</td>
<td align="center">9</td>
</tr>
<tr>
<td>0011&nbsp;1010</td>
<td align="center">58</td>
<td align="center">3A</td>
<td align="center">:</td>
</tr>
<tr>
<td>0011&nbsp;1011</td>
<td align="center">59</td>
<td align="center">3B</td>
<td align="center">;</td>
</tr>
<tr>
<td>0011&nbsp;1100</td>
<td align="center">60</td>
<td align="center">3C</td>
<td align="center">&lt;</td>
</tr>
<tr>
<td>0011&nbsp;1101</td>
<td align="center">61</td>
<td align="center">3D</td>
<td align="center">=</td>
</tr>
<tr>
<td>0011&nbsp;1110</td>
<td align="center">62</td>
<td align="center">3E</td>
<td align="center">&gt;</td>
</tr>
<tr>
<td>0011&nbsp;1111</td>
<td align="center">63</td>
<td align="center">3F</td>
<td align="center">?</td>
</tr>
</tbody></table>
</td>
<td>&nbsp;</td>
<td>
<table width="100%" border="0" cellpadding="0" cellspacing="0" class="bx">
<thead>
<tr valign="bottom">
<th>二进制</th>
<th>十进制</th>
<th>十六进制</th>
<th>图形</th>
</tr>
</thead>
<tbody>
<tr>
<td>0100&nbsp;0000</td>
<td align="center">64</td>
<td align="center">40</td>
<td align="center">@</td>
</tr>
<tr>
<td>0100&nbsp;0001</td>
<td align="center">65</td>
<td align="center">41</td>
<td align="center">A</td>
</tr>
<tr>
<td>0100&nbsp;0010</td>
<td align="center">66</td>
<td align="center">42</td>
<td align="center">B</td>
</tr>
<tr>
<td>0100&nbsp;0011</td>
<td align="center">67</td>
<td align="center">43</td>
<td align="center">C</td>
</tr>
<tr>
<td>0100&nbsp;0100</td>
<td align="center">68</td>
<td align="center">44</td>
<td align="center">D</td>
</tr>
<tr>
<td>0100&nbsp;0101</td>
<td align="center">69</td>
<td align="center">45</td>
<td align="center">E</td>
</tr>
<tr>
<td>0100&nbsp;0110</td>
<td align="center">70</td>
<td align="center">46</td>
<td align="center">F</td>
</tr>
<tr>
<td>0100&nbsp;0111</td>
<td align="center">71</td>
<td align="center">47</td>
<td align="center">G</td>
</tr>
<tr>
<td>0100&nbsp;1000</td>
<td align="center">72</td>
<td align="center">48</td>
<td align="center">H</td>
</tr>
<tr>
<td>0100&nbsp;1001</td>
<td align="center">73</td>
<td align="center">49</td>
<td align="center">I</td>
</tr>
<tr>
<td>0100&nbsp;1010</td>
<td align="center">74</td>
<td align="center">4A</td>
<td align="center">J</td>
</tr>
<tr>
<td>0100&nbsp;1011</td>
<td align="center">75</td>
<td align="center">4B</td>
<td align="center">K</td>
</tr>
<tr>
<td>0100&nbsp;1100</td>
<td align="center">76</td>
<td align="center">4C</td>
<td align="center">L</td>
</tr>
<tr>
<td>0100&nbsp;1101</td>
<td align="center">77</td>
<td align="center">4D</td>
<td align="center">M</td>
</tr>
<tr>
<td>0100&nbsp;1110</td>
<td align="center">78</td>
<td align="center">4E</td>
<td align="center">N</td>
</tr>
<tr>
<td>0100&nbsp;1111</td>
<td align="center">79</td>
<td align="center">4F</td>
<td align="center">O</td>
</tr>
<tr>
<td>0101&nbsp;0000</td>
<td align="center">80</td>
<td align="center">50</td>
<td align="center">P</td>
</tr>
<tr>
<td>0101&nbsp;0001</td>
<td align="center">81</td>
<td align="center">51</td>
<td align="center">Q</td>
</tr>
<tr>
<td>0101&nbsp;0010</td>
<td align="center">82</td>
<td align="center">52</td>
<td align="center">R</td>
</tr>
<tr>
<td>0101&nbsp;0011</td>
<td align="center">83</td>
<td align="center">53</td>
<td align="center">S</td>
</tr>
<tr>
<td>0101&nbsp;0100</td>
<td align="center">84</td>
<td align="center">54</td>
<td align="center">T</td>
</tr>
<tr>
<td>0101&nbsp;0101</td>
<td align="center">85</td>
<td align="center">55</td>
<td align="center">U</td>
</tr>
<tr>
<td>0101&nbsp;0110</td>
<td align="center">86</td>
<td align="center">56</td>
<td align="center">V</td>
</tr>
<tr>
<td>0101&nbsp;0111</td>
<td align="center">87</td>
<td align="center">57</td>
<td align="center">W</td>
</tr>
<tr>
<td>0101&nbsp;1000</td>
<td align="center">88</td>
<td align="center">58</td>
<td align="center">X</td>
</tr>
<tr>
<td>0101&nbsp;1001</td>
<td align="center">89</td>
<td align="center">59</td>
<td align="center">Y</td>
</tr>
<tr>
<td>0101&nbsp;1010</td>
<td align="center">90</td>
<td align="center">5A</td>
<td align="center">Z</td>
</tr>
<tr>
<td>0101&nbsp;1011</td>
<td align="center">91</td>
<td align="center">5B</td>
<td align="center">[</td>
</tr>
<tr>
<td>0101&nbsp;1100</td>
<td align="center">92</td>
<td align="center">5C</td>
<td align="center">\</td>
</tr>
<tr>
<td>0101&nbsp;1101</td>
<td align="center">93</td>
<td align="center">5D</td>
<td align="center">]</td>
</tr>
<tr>
<td>0101&nbsp;1110</td>
<td align="center">94</td>
<td align="center">5E</td>
<td align="center">^</td>
</tr>
<tr>
<td>0101&nbsp;1111</td>
<td align="center">95</td>
<td align="center">5F</td>
<td align="center">_</td>
</tr>
</tbody>
</table>
</td>
<td>&nbsp;</td>
<td>
<table width="100%" border="0" cellpadding="0" cellspacing="0" class="bx">
<thead>
<tr valign="bottom">
<th>二进制</th>
<th>十进制</th>
<th>十六进制</th>
<th>图形</th>
</tr>
</thead>
<tbody>
<tr>
<td>0110&nbsp;0000</td>
<td align="center">96</td>
<td align="center">60</td>
<td align="center">`</td>
</tr>
<tr>
<td>0110&nbsp;0001</td>
<td align="center">97</td>
<td align="center">61</td>
<td align="center">a</td>
</tr>
<tr>
<td>0110&nbsp;0010</td>
<td align="center">98</td>
<td align="center">62</td>
<td align="center">b</td>
</tr>
<tr>
<td>0110&nbsp;0011</td>
<td align="center">99</td>
<td align="center">63</td>
<td align="center">c</td>
</tr>
<tr>
<td>0110&nbsp;0100</td>
<td align="center">100</td>
<td align="center">64</td>
<td align="center">d</td>
</tr>
<tr>
<td>0110&nbsp;0101</td>
<td align="center">101</td>
<td align="center">65</td>
<td align="center">e</td>
</tr>
<tr>
<td>0110&nbsp;0110</td>
<td align="center">102</td>
<td align="center">66</td>
<td align="center">f</td>
</tr>
<tr>
<td>0110&nbsp;0111</td>
<td align="center">103</td>
<td align="center">67</td>
<td align="center">g</td>
</tr>
<tr>
<td>0110&nbsp;1000</td>
<td align="center">104</td>
<td align="center">68</td>
<td align="center">h</td>
</tr>
<tr>
<td>0110&nbsp;1001</td>
<td align="center">105</td>
<td align="center">69</td>
<td align="center">i</td>
</tr>
<tr>
<td>0110&nbsp;1010</td>
<td align="center">106</td>
<td align="center">6A</td>
<td align="center">j</td>
</tr>
<tr>
<td>0110&nbsp;1011</td>
<td align="center">107</td>
<td align="center">6B</td>
<td align="center">k</td>
</tr>
<tr>
<td>0110&nbsp;1100</td>
<td align="center">108</td>
<td align="center">6C</td>
<td align="center">l</td>
</tr>
<tr>
<td>0110&nbsp;1101</td>
<td align="center">109</td>
<td align="center">6D</td>
<td align="center">m</td>
</tr>
<tr>
<td>0110&nbsp;1110</td>
<td align="center">110</td>
<td align="center">6E</td>
<td align="center">n</td>
</tr>
<tr>
<td>0110&nbsp;1111</td>
<td align="center">111</td>
<td align="center">6F</td>
<td align="center">o</td>
</tr>
<tr>
<td>0111&nbsp;0000</td>
<td align="center">112</td>
<td align="center">70</td>
<td align="center">p</td>
</tr>
<tr>
<td>0111&nbsp;0001</td>
<td align="center">113</td>
<td align="center">71</td>
<td align="center">q</td>
</tr>
<tr>
<td>0111&nbsp;0010</td>
<td align="center">114</td>
<td align="center">72</td>
<td align="center">r</td>
</tr>
<tr>
<td>0111&nbsp;0011</td>
<td align="center">115</td>
<td align="center">73</td>
<td align="center">s</td>
</tr>
<tr>
<td>0111&nbsp;0100</td>
<td align="center">116</td>
<td align="center">74</td>
<td align="center">t</td>
</tr>
<tr>
<td>0111&nbsp;0101</td>
<td align="center">117</td>
<td align="center">75</td>
<td align="center">u</td>
</tr>
<tr>
<td>0111&nbsp;0110</td>
<td align="center">118</td>
<td align="center">76</td>
<td align="center">v</td>
</tr>
<tr>
<td>0111&nbsp;0111</td>
<td align="center">119</td>
<td align="center">77</td>
<td align="center">w</td>
</tr>
<tr>
<td>0111&nbsp;1000</td>
<td align="center">120</td>
<td align="center">78</td>
<td align="center">x</td>
</tr>
<tr>
<td>0111&nbsp;1001</td>
<td align="center">121</td>
<td align="center">79</td>
<td align="center">y</td>
</tr>
<tr>
<td>0111&nbsp;1010</td>
<td align="center">122</td>
<td align="center">7A</td>
<td align="center">z</td>
</tr>
<tr>
<td>0111&nbsp;1011</td>
<td align="center">123</td>
<td align="center">7B</td>
<td align="center">{</td>
</tr>
<tr>
<td>0111&nbsp;1100</td>
<td align="center">124</td>
<td align="center">7C</td>
<td align="center">|</td>
</tr>
<tr>
<td>0111&nbsp;1101</td>
<td align="center">125</td>
<td align="center">7D</td>
<td align="center">}</td>
</tr>
<tr>
<td>0111&nbsp;1110</td>
<td align="center">126</td>
<td align="center">7E</td>
<td align="center">~</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody></table>
<h3 id="汉字"><a class="markdownIt-Anchor" href="#汉字"></a> 汉字</h3>
<ul>
<li>汉字的区位码：由94行、94列组成，行号为区号，列号为位号。</li>
<li>汉字的国标码：将区号和位号各自加上32(20H)。国标码中区号和位号各占7位。在计算机内部，为方便处理与存储，前面添一个0，构成一个字节。</li>
<li>至少需要2个字节才能表示一个汉字内码（因为汉字总数超过6万个）</li>
</ul>
<h2 id="数据宽度和储存容量"><a class="markdownIt-Anchor" href="#数据宽度和储存容量"></a> 数据宽度和储存容量</h2>
<h3 id="容量单位"><a class="markdownIt-Anchor" href="#容量单位"></a> 容量单位</h3>
<table>
<thead>
<tr>
<th style="text-align:center">中文</th>
<th style="text-align:center">表示</th>
<th style="text-align:center">转化</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">千字节</td>
<td style="text-align:center"><font color="red">K</font>B</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>K</mi><mi>B</mi><mo>=</mo><msup><mn>2</mn><mn>10</mn></msup><mtext>字节</mtext><mo>=</mo><mn>1024</mn><mi>B</mi></mrow><annotation encoding="application/x-tex">1KB = 2^{10} \text{字节} = 1024 B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mord text"><span class="mord cjk_fallback">字节</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">2</span><span class="mord">4</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">兆字节</td>
<td style="text-align:center">MB</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>M</mi><mi>B</mi><mo>=</mo><msup><mn>2</mn><mn>20</mn></msup><mtext>字节</mtext><mo>=</mo><mn>1024</mn><mi>K</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">1MB = 2^{20} \text{字节} = 1024 KB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mord text"><span class="mord cjk_fallback">字节</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">2</span><span class="mord">4</span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">千兆字节</td>
<td style="text-align:center">GB</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>G</mi><mi>B</mi><mo>=</mo><msup><mn>2</mn><mn>30</mn></msup><mtext>字节</mtext><mo>=</mo><mn>1024</mn><mi>M</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">1GB = 2^{30} \text{字节} = 1024 MB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault">G</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mord text"><span class="mord cjk_fallback">字节</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">2</span><span class="mord">4</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">兆兆字节</td>
<td style="text-align:center">TB</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>T</mi><mi>B</mi><mo>=</mo><msup><mn>2</mn><mn>40</mn></msup><mtext>字节</mtext><mo>=</mo><mn>1024</mn><mi>G</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">1TB = 2^{40} \text{字节} =1024 GB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span><span class="mord text"><span class="mord cjk_fallback">字节</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">2</span><span class="mord">4</span><span class="mord mathdefault">G</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></td>
</tr>
</tbody>
</table>
<h3 id="通信中的带宽单位"><a class="markdownIt-Anchor" href="#通信中的带宽单位"></a> 通信中的带宽单位</h3>
<table>
<thead>
<tr>
<th style="text-align:center">中文</th>
<th style="text-align:center">表示</th>
<th style="text-align:center">转化</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">千比特/秒</td>
<td style="text-align:center"><font color="red">k</font>b/s</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>k</mi><mi>b</mi><mi>p</mi><mi>s</mi><mo>=</mo><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup><mi>b</mi><mi mathvariant="normal">/</mi><mi>s</mi><mo>=</mo><mn>1000</mn><mi>b</mi><mi>p</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">1kbps = 10^{3} b/s = 1000 bps</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">b</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mord mathdefault">b</span><span class="mord">/</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord mathdefault">b</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">兆比特/秒</td>
<td style="text-align:center">Mb/s</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>M</mi><mi>b</mi><mi mathvariant="normal">/</mi><mi>s</mi><mo>=</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup><mi>b</mi><mi mathvariant="normal">/</mi><mi>s</mi><mo>=</mo><mn>1000</mn><mi>k</mi><mi>b</mi><mi>p</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">1Mb/s = 10^{6} b/s = 1000 kbps</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault">b</span><span class="mord">/</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span><span class="mord mathdefault">b</span><span class="mord">/</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">b</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">千兆比特/秒</td>
<td style="text-align:center">Gb/s</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>G</mi><mi>b</mi><mi mathvariant="normal">/</mi><mi>s</mi><mo>=</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup><mi>b</mi><mi mathvariant="normal">/</mi><mi>s</mi><mo>=</mo><mn>1000</mn><mi>M</mi><mi>b</mi><mi>p</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">1Gb/s = 10^{9} b/s = 1000 Mbps</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord mathdefault">G</span><span class="mord mathdefault">b</span><span class="mord">/</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span><span class="mord mathdefault">b</span><span class="mord">/</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault">b</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">兆兆比特/秒</td>
<td style="text-align:center">Tb/s</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>T</mi><mi>b</mi><mi mathvariant="normal">/</mi><mi>s</mi><mo>=</mo><mn>1</mn><msup><mn>0</mn><mn>12</mn></msup><mi>b</mi><mi mathvariant="normal">/</mi><mi>s</mi><mo>=</mo><mn>1000</mn><mi>G</mi><mi>b</mi><mi>p</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">1Tb/s = 10^{12} b/s =1000 Gbps</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">b</span><span class="mord">/</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord mathdefault">b</span><span class="mord">/</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord mathdefault">G</span><span class="mord mathdefault">b</span><span class="mord mathdefault">p</span><span class="mord mathdefault">s</span></span></span></span></td>
</tr>
</tbody>
</table>
<p><font color="red">注意：容量单位和带宽单位里面明显大小写有一些不一样，因为表示的含义不同，一个是1000，一个1024.</font></p>
<h3 id="c语言中数据类型的宽度"><a class="markdownIt-Anchor" href="#c语言中数据类型的宽度"></a> C语言中数据类型的宽度</h3>
<table>
<thead>
<tr>
<th style="text-align:center">C声明</th>
<th style="text-align:center">典型32位机器(单位：字节)</th>
<th style="text-align:center">典型64位机器(单位：字节)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">char</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">short int</td>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">int</td>
<td style="text-align:center">4</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">long int</td>
<td style="text-align:center">4</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">char*</td>
<td style="text-align:center">4</td>
<td style="text-align:center">8</td>
</tr>
<tr>
<td style="text-align:center">float</td>
<td style="text-align:center">4</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">double</td>
<td style="text-align:center">8</td>
<td style="text-align:center">8</td>
</tr>
</tbody>
</table>
<p>long double 的确切精度没有规定，所以对于不同平台来说，有的是8字节，有的是10字节，有的是12字节或者16字节。</p>
<h2 id="数据的存储和排列顺序"><a class="markdownIt-Anchor" href="#数据的存储和排列顺序"></a> 数据的存储和排列顺序</h2>
<p>80年代开始，几乎所有通用计算机都采用字节编址。在高级语言中声明的基本数据类型有char、short、int、long、long long、float、double、long double等各种不同长度数据，一个基本数据可能会占用多个存储单元。所以有一些问题我们还需要考虑，比如说：变量的地址是其最大地址还是最小地址？多个字节在存储单元中存放的顺序如何？</p>
<h3 id="大小端方式"><a class="markdownIt-Anchor" href="#大小端方式"></a> 大/小端方式</h3>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-5-1-1.png" alt="2-5-1-1" /></p>
<p>测试代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> &amp;lt; cstdio &amp;gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> &amp;lt; cstring &amp;gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> &amp;lt; algorithm &amp;gt;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn=<span class="number">200005</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">union</span> NUM</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> a;</span><br><span class="line">		<span class="keyword">char</span> b;</span><br><span class="line">	&#125; num;</span><br><span class="line">	num.a=<span class="number">0x12345678</span>;</span><br><span class="line">	<span class="keyword">if</span>(num.b==<span class="number">0x12</span>) <span class="built_in">printf</span>(<span class="string">"Big Endian\n"</span>);</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"Little Endian\n"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"num.b=0x%X\n"</span>,num.b);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在我的机器上运行的结果：</p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-5-1-2.png" alt="2-5-1-2" /></p>
<p><font color="red">大小端非常重要，因为在看指令的时候，大小端不同，表示的值就不同。<br />
注意：IA-32采用的是小端方式。</font></p>
<h2 id="数字逻辑电路"><a class="markdownIt-Anchor" href="#数字逻辑电路"></a> 数字逻辑电路</h2>
<h3 id="布尔代数"><a class="markdownIt-Anchor" href="#布尔代数"></a> 布尔代数</h3>
<table>
<thead>
<tr>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>⋅</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \cdot B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>+</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A+B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mover accent="true"><mi>A</mi><mo>ˉ</mo></mover></mrow><annotation encoding="application/x-tex">\bar{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8201099999999999em;vertical-align:0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201099999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">A</span></span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.11110999999999999em;">ˉ</span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>⊕</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A \oplus B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<h3 id="全加器一位加法器"><a class="markdownIt-Anchor" href="#全加器一位加法器"></a> 全加器(一位加法器)</h3>
<p>两个加数为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span>，低位进位为<code>Cin</code>，和为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span></span></span></span>，向高位的进位为<code>Cout</code>。<br />
化简之后，逻辑表达式如下：</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mo>=</mo><mi>A</mi><mo>⊕</mo><mi>B</mi><mo>⊕</mo><mi>C</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">F=A \oplus B \oplus Cin
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span></span></span></span></span></p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>o</mi><mi>u</mi><mi>t</mi><mo>=</mo><mi>A</mi><mo>⋅</mo><mi>B</mi><mo>+</mo><mi>A</mi><mo>⋅</mo><mi>C</mi><mi>i</mi><mi>n</mi><mo>+</mo><mi>B</mi><mo>⋅</mo><mi>C</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">Cout=A \cdot B + A \cdot Cin + B \cdot Cin
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span></span></span></span></span></p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-6-2.png" alt="2-6-2" /></p>
<h3 id="n位加法器"><a class="markdownIt-Anchor" href="#n位加法器"></a> n位加法器</h3>
<p>n位加法器可用n个全加器实现</p>
<h4 id="无符号整数加"><a class="markdownIt-Anchor" href="#无符号整数加"></a> 无符号整数加</h4>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-6-3-1-1.png" alt="2-6-3-1-1" /></p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-6-3-1-2.png" alt="2-6-3-1-2" /></p>
<h4 id="带符号整数加"><a class="markdownIt-Anchor" href="#带符号整数加"></a> 带符号整数加</h4>
<ul>
<li>溢出标志OF：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mi>F</mi><mo>=</mo><msub><mi>C</mi><mi>n</mi></msub><mo>⊕</mo><msub><mi>C</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">OF=C_n \oplus C_{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>符号标志SF：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>F</mi><mo>=</mo><msub><mi>F</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">SF=F_{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>零标志ZF：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Z</mi><mi>F</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">ZF=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">Z</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>当且仅当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>F</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">F=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></li>
<li>进位/借位标志CF：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>F</mi><mo>=</mo><mi>C</mi><mi>o</mi><mi>u</mi><mi>t</mi><mo>⊕</mo><mi>C</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">CF=Cout \oplus Cin</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span></span></span></span></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-6-3-2-1.png" alt="2-6-3-2-1" /></p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-6-3-2-2.png" alt="2-6-3-2-2" /></p>
<h3 id="n位整数加减运算器"><a class="markdownIt-Anchor" href="#n位整数加减运算器"></a> n位整数加/减运算器</h3>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>A</mi><mo>+</mo><mi>B</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>=</mo><mo stretchy="false">[</mo><mi>A</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>+</mo><mo stretchy="false">[</mo><mi>B</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo stretchy="false">(</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext>  </mtext><mtext>  </mtext><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[A+B]_{\text{补}} = [A]_{\text{补}} + [B]_{\text{补}} (mod\;\;2^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">A</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><br />
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">[</mo><mi>A</mi><mo>−</mo><mi>B</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>=</mo><mo stretchy="false">[</mo><mi>A</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>+</mo><mo stretchy="false">[</mo><mo>−</mo><mi>B</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo stretchy="false">(</mo><mi>m</mi><mi>o</mi><mi>d</mi><mtext>  </mtext><mtext>  </mtext><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[A-B]_{\text{补}} = [A]_{\text{补}} + [-B]_{\text{补}} (mod\;\;2^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">A</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-6-4-1.png" alt="2-6-4-1" /></p>
<ul>
<li>当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>u</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">Sub</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">u</span><span class="mord mathdefault">b</span></span></span></span>为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>时，做减法。</li>
<li>当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>u</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">Sub</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">u</span><span class="mord mathdefault">b</span></span></span></span>为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>时，做加法。</li>
</ul>
<p><code>算术逻辑部件ALU</code>：</p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/2-6-4-2.png" alt="2-6-4-2" /></p>
<h2 id="数据的运算"><a class="markdownIt-Anchor" href="#数据的运算"></a> 数据的运算</h2>
<p>高级语言程序中涉及的运算（以C语言为例）</p>
<ul>
<li>整数算术运算、浮点数算术运算</li>
<li>按位、逻辑、移位、位扩展和位截断等运算</li>
</ul>
<p>指令集中涉及到的运算：</p>
<p><code>涉及到的定点数运算</code>：</p>
<p>算术运算：</p>
<ul>
<li>带符号整数：取负/ 符号扩展/ 加/ 减/ 乘/ 除 / 算术移位</li>
<li>无符号整数：0扩展/ 加/ 减/ 乘/ 除/ 逻辑左移/ 逻辑右移</li>
</ul>
<p>逻辑运算：</p>
<ul>
<li>逻辑操作：与/ 或/ 非/ …</li>
</ul>
<p><code>涉及到的浮点数运算</code>：加、减、乘、除</p>
<p>指令中的运算操作在运算电路中进行</p>
<ul>
<li>基本运算部件ALU、通用寄存器组，以及其他部件</li>
</ul>
<h2 id="整数的加减运算"><a class="markdownIt-Anchor" href="#整数的加减运算"></a> 整数的加减运算</h2>
<ol>
<li>计算机中所有运算都基于加法器实现。</li>
<li>加法器不知道所运算的是带符号数还是无符号数。</li>
<li>加法器不判定对错，总是取低n位作为结果，并生成标志信息。</li>
</ol>
<h3 id="无符号数"><a class="markdownIt-Anchor" href="#无符号数"></a> 无符号数</h3>
<p>加法：</p>
<ul>
<li>当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>+</mo><mi>y</mi><mo>&lt;</mo><msup><mn>2</mn><mi>n</mi></msup><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x+y &lt; 2^n, result=x+y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span></li>
<li>当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>≤</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo>&lt;</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo>−</mo><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n \leq x+y &lt; 2^{n+1}, result=x+y-2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.800362em;vertical-align:-0.13597em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span></li>
</ul>
<p>减法：</p>
<ul>
<li>当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>−</mo><mi>y</mi><mo>&lt;</mo><mn>0</mn><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>=</mo><mi>x</mi><mo>−</mo><mi>y</mi><mo>+</mo><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">x-y&lt;0, result=x-y+2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span></li>
<li>当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>−</mo><mi>y</mi><mo>≥</mo><mn>0</mn><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>=</mo><mi>x</mi><mo>−</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x-y \geq 0, result=x-y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span></li>
</ul>
<h3 id="带符号数"><a class="markdownIt-Anchor" href="#带符号数"></a> 带符号数</h3>
<p>加法：</p>
<ul>
<li>当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>+</mo><mi>y</mi><mo>&lt;</mo><mo>−</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo>+</mo><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">x+y&lt;-2^{n-1}, result=x+y+2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span>，负溢出</li>
<li>当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>≤</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo>&lt;</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">-2^{n-1} \leq x+y &lt; 2^{n-1}, result=x+y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.950078em;vertical-align:-0.13597em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>，正常</li>
<li>当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>+</mo><mi>y</mi><mo>≥</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>=</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo>−</mo><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">x+y \geq 2^{n-1}, result=x+y-2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span>，正溢出</li>
</ul>
<p>减法：</p>
<ul>
<li>当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>−</mo><mi>y</mi><mo>&lt;</mo><mo>−</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>=</mo><mi>x</mi><mo>−</mo><mi>y</mi><mo>+</mo><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">x-y&lt;-2^{n-1}, result=x-y+2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span>，负溢出</li>
<li>当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>−</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>≤</mo><mi>x</mi><mo>−</mo><mi>y</mi><mo>&lt;</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>=</mo><mi>x</mi><mo>−</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">-2^{n-1} \leq x-y &lt;2^{n-1}, result=x-y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.950078em;vertical-align:-0.13597em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span>，正常</li>
<li>当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>−</mo><mi>y</mi><mo>≥</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo separator="true">,</mo><mi>r</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>=</mo><mi>x</mi><mo>−</mo><mi>y</mi><mo>−</mo><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">x-y \geq 2^{n-1}, result=x-y-2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.008548em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span>，正溢出</li>
</ul>
<h1 id="center第三章-程序的转换及机器级表示center"><a class="markdownIt-Anchor" href="#center第三章-程序的转换及机器级表示center"></a> <center>第三章 程序的转换及机器级表示</center></h1>
<h2 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h2>
<p>机器级指令和汇编指令一一对应，都是机器级指令。</p>
<ul>
<li>机器指令是一个0/1序列，由若干字段组成。<br> <img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-1.png" alt="3-1" /></li>
<li>汇编指令是机器指令的符号表示，在不同机器上格式可以不同<br>比如说：Intel格式：<code>mov [bx+di-6],cl</code><br>AT&amp;T格式：<code>movb %cl, -6(%bx,%di)</code><br>这两条指令的功能其实都是表示<code>M[R[bx]+R[di]-6]←R[cl]</code>，其中<code>R</code>表示的是寄存器内容，<code>M</code>表示的是存储单元内容。</li>
</ul>
<h2 id="ia-32-指令系统"><a class="markdownIt-Anchor" href="#ia-32-指令系统"></a> IA-32 指令系统</h2>
<h3 id="概述-2"><a class="markdownIt-Anchor" href="#概述-2"></a> 概述</h3>
<h4 id="寄存器组织"><a class="markdownIt-Anchor" href="#寄存器组织"></a> 寄存器组织</h4>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-2-1-1.png" alt="3-2-1-1" /></p>
<table>
<thead>
<tr>
<th style="text-align:center">编号</th>
<th style="text-align:center">8位寄存器</th>
<th style="text-align:center">16位寄存器</th>
<th style="text-align:center">32位寄存器</th>
<th style="text-align:center">64位寄存器</th>
<th style="text-align:center">128位寄存器</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">000</td>
<td style="text-align:center">AL</td>
<td style="text-align:center">AX</td>
<td style="text-align:center">EAX</td>
<td style="text-align:center">MM0/ST(0)</td>
<td style="text-align:center">XMM0</td>
</tr>
<tr>
<td style="text-align:center">001</td>
<td style="text-align:center">CL</td>
<td style="text-align:center">CX</td>
<td style="text-align:center">ECX</td>
<td style="text-align:center">MM1/ST(1)</td>
<td style="text-align:center">XMM1</td>
</tr>
<tr>
<td style="text-align:center">010</td>
<td style="text-align:center">DL</td>
<td style="text-align:center">DX</td>
<td style="text-align:center">EDX</td>
<td style="text-align:center">MM2/ST(2)</td>
<td style="text-align:center">XMM2</td>
</tr>
<tr>
<td style="text-align:center">011</td>
<td style="text-align:center">BL</td>
<td style="text-align:center">BX</td>
<td style="text-align:center">EBX</td>
<td style="text-align:center">MM3/ST(3)</td>
<td style="text-align:center">XMM3</td>
</tr>
<tr>
<td style="text-align:center">100</td>
<td style="text-align:center">AH</td>
<td style="text-align:center">SP</td>
<td style="text-align:center">ESP</td>
<td style="text-align:center">MM4/ST(4)</td>
<td style="text-align:center">XMM4</td>
</tr>
<tr>
<td style="text-align:center">101</td>
<td style="text-align:center">CH</td>
<td style="text-align:center">BP</td>
<td style="text-align:center">EBP</td>
<td style="text-align:center">MM5/ST(5)</td>
<td style="text-align:center">XMM5</td>
</tr>
<tr>
<td style="text-align:center">110</td>
<td style="text-align:center">DH</td>
<td style="text-align:center">SI</td>
<td style="text-align:center">ESI</td>
<td style="text-align:center">MM6/ST(6)</td>
<td style="text-align:center">XMM6</td>
</tr>
<tr>
<td style="text-align:center">111</td>
<td style="text-align:center">BH</td>
<td style="text-align:center">DI</td>
<td style="text-align:center">EDI</td>
<td style="text-align:center">MM7/ST(7)</td>
<td style="text-align:center">XMM7</td>
</tr>
</tbody>
</table>
<p>字长不断扩充，指令保持兼容，<code>ST(0)</code> - <code>ST(7)</code>是80位，<code>MM0</code> - <code>MM7</code>使用其低64位</p>
<p><code>IA-32中寄存器名称的含义</code>：</p>
<ul>
<li><code>CS</code> —— 代码段寄存器（Code Segment）</li>
<li><code>SS</code> —— 栈段寄存器（Stack Segment）</li>
<li><code>DS</code> —— 数据段寄存器（Data Segment）</li>
<li><code>ES</code> —— 扩展段寄存器（Extended Segment）</li>
<li><code>FS，GS</code> —— 数据段寄存器</li>
<li><code>EAX</code> —— 累加寄存器（Extended Accumulator Register）</li>
<li><code>ECX</code> —— 计数寄存器（Extended Counter Register）</li>
<li><code>EDX</code> —— 数据寄存器（Extended Data Register）</li>
<li><code>EBX</code> —— 指向数据段（DS）的指针（Extended Base Register）</li>
<li><code>ESI</code> —— 指向数据段（DS）的指针，表示字符串操作的源（Extended Source Index）</li>
<li><code>EDI</code> —— 指向数据段（ES）的指针，表示字符串操作的目标（Extended Destination Index）</li>
<li><code>EBP</code> —— 指向栈（SS）的指针，一般表示当前栈帧的底部（Extended Base Pointer）</li>
<li><code>ESP</code> —— 指向栈（SS）顶的指针（Extended Stack Pointer）</li>
<li><code>EIP</code> —— 指令寄存器（Enhanced Instruction Pointer）</li>
<li><code>EFLAG</code> —— 标志位寄存器</li>
</ul>
<h4 id="标志寄存器"><a class="markdownIt-Anchor" href="#标志寄存器"></a> 标志寄存器</h4>
<ul>
<li>6个条件标志</li>
</ul>
<ol>
<li><code>OF</code>、<code>SF</code>、<code>ZF</code>、<code>CF</code>，功能在前文已经介绍，这里不再赘述</li>
<li><code>AF</code>：辅助进位标志（在BCD码运算时才有意义）</li>
<li><code>PF</code>：奇偶标志</li>
</ol>
<ul>
<li>3个控制标志</li>
</ul>
<ol>
<li><code>DF</code>（Direction Flag）：方向标志（自动变址方向是增还是减）</li>
<li><code>IF</code>（Interrupt Flag）：中断允许标志（仅对外部可屏蔽中断有用）</li>
<li><code>TF</code>（Trap Flag）：陷阱标志（是否是单步跟踪状态）</li>
</ol>
<h4 id="保护模式下的寻址方式"><a class="markdownIt-Anchor" href="#保护模式下的寻址方式"></a> 保护模式下的寻址方式</h4>
<table>
<thead>
<tr>
<th style="text-align:left">寻址方式</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">立即寻址</td>
<td style="text-align:left">指令直接给出操作数</td>
</tr>
<tr>
<td style="text-align:left">寄存器寻址</td>
<td style="text-align:left">指定的寄存器R的内容为操作数</td>
</tr>
<tr>
<td style="text-align:left">位移</td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><mi>S</mi><mi>R</mi><mo stretchy="false">)</mo><mo>+</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">LA=(SR)+A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:left">基址寻址</td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><mi>S</mi><mi>R</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">LA=(SR)+(B)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:left">基址加位移</td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><mi>S</mi><mi>R</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo><mo>+</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">LA=(SR)+(B)+A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:left">比例变址加位移</td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><mi>S</mi><mi>R</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>I</mi><mo stretchy="false">)</mo><mo>×</mo><mi>S</mi><mo>+</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">LA=(SR)+(I) \times S + A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:left">基址加变址加位移</td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><mi>S</mi><mi>R</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>I</mi><mo stretchy="false">)</mo><mo>+</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">LA=(SR)+(B)+(I)+A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:left">基址加比例变址加位移</td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><mi>S</mi><mi>R</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>I</mi><mo stretchy="false">)</mo><mo>×</mo><mi>S</mi><mo>+</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">LA=(SR)+(B)+(I) \times S + A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span></td>
</tr>
<tr>
<td style="text-align:left">相对寻址</td>
<td style="text-align:left"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><mi>P</mi><mi>C</mi><mo stretchy="false">)</mo><mo>+</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">LA=(PC)+A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 跳转目标指令地址</td>
</tr>
</tbody>
</table>
<p>注：<code>LA</code>:线性地址，<code>(X)</code>：X的内容，<code>SR</code>：段寄存器，<code>PC</code>：程序计数器，<code>R</code>：寄存器，<code>A</code>：指令中给定地址段的位移量，<code>B</code>：基址寄存器，<code>I</code>：变址寄存器，<code>S</code>：比例系数</p>
<ul>
<li>举例说明：</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">float</span> a[<span class="number">100</span>];</span><br><span class="line">short b[<span class="number">4</span>][<span class="number">4</span>];</span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="keyword">double</span> d[<span class="number">10</span>];</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-2-1-3.png" alt="3-2-1-3" /></p>
<ol>
<li>如何计算<code>a[i]</code>的地址？<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>104</mn><mo>+</mo><mi>i</mi><mo>×</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">104+i \times 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span>，当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo>=</mo><mn>99</mn></mrow><annotation encoding="application/x-tex">i=99</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mord">9</span></span></span></span>时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>d</mi><mi>d</mi><mi>r</mi><mi>e</mi><mi>s</mi><mi>s</mi><mo>=</mo><mn>104</mn><mo>+</mo><mn>99</mn><mo>×</mo><mn>4</mn><mo>=</mo><mn>500</mn></mrow><annotation encoding="application/x-tex">Address=104+99 \times 4 = 500</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">d</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">9</span><span class="mord">9</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span></span></span></span></li>
<li>如何计算<code>b[i][j]</code>的地址？<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>504</mn><mo>+</mo><mi>i</mi><mo>×</mo><mn>8</mn><mo>+</mo><mi>j</mi><mo>×</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">504 + i \times 8 + j \times 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>，当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo>=</mo><mn>3</mn><mo separator="true">,</mo><mi>j</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">i=3,j=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>d</mi><mi>d</mi><mi>r</mi><mi>e</mi><mi>s</mi><mi>s</mi><mo>=</mo><mn>504</mn><mo>+</mo><mn>24</mn><mo>+</mo><mn>4</mn><mo>=</mo><mn>532</mn></mrow><annotation encoding="application/x-tex">Address=504+24+4=532</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">d</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">3</span><span class="mord">2</span></span></span></span></li>
<li>如何计算<code>d[i]</code>的地址？<br><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>544</mn><mo>+</mo><mi>i</mi><mo>×</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">544+i \times 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mord">4</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span></span></span></span>，当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi><mo>=</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">i=9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span></span></span></span>时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>d</mi><mi>d</mi><mi>r</mi><mi>e</mi><mi>s</mi><mi>s</mi><mo>=</mo><mn>544</mn><mo>+</mo><mn>9</mn><mo>×</mo><mn>8</mn><mo>=</mo><mn>500</mn></mrow><annotation encoding="application/x-tex">Address=544+9 \times 8 = 500</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">d</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mord">4</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span></span></span></span></li>
</ol>
<h4 id="机器指令格式"><a class="markdownIt-Anchor" href="#机器指令格式"></a> 机器指令格式</h4>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-2-1-4.png" alt="3-2-1-4" /></p>
<h3 id="指令类型"><a class="markdownIt-Anchor" href="#指令类型"></a> 指令类型</h3>
<h4 id="传送指令"><a class="markdownIt-Anchor" href="#传送指令"></a> 传送指令</h4>
<p>1.通用数据传送指令</p>
<ul>
<li><code>MOV</code>：一般传送，包括<code>movb</code>、<code>movw</code>和<code>movz</code>等</li>
<li><code>MOVS</code>：符号扩展传送，如<code>movsbw</code>、<code>movswl</code>等</li>
<li><code>MOVZ</code>：零扩展传送，如<code>movzwl</code>、<code>movzbl</code>等</li>
<li><code>XCHG</code>：数据交换</li>
<li><code>PUSH/POP</code>：入栈/出栈，如<code>pushl</code>、<code>pushw</code>、<code>popl</code>、<code>popw</code>等</li>
</ul>
<p>2.地址传送指令</p>
<ul>
<li><code>LEA</code>：加载有效地址，如<code>leal (%edx,%eax), %eax</code>的功能为<code>R[eax]←R[edx]+R[eax]</code>，执行前，若<code>R[edx]=i，R[eax]=j</code>，则指令执行后，<code>R[eax]=i+j</code></li>
</ul>
<p>3.输入输出指令</p>
<ul>
<li><code>IN</code>和<code>OUT</code>：I/O端口与寄存器之间的交换</li>
</ul>
<p>4.标志传送指令</p>
<ul>
<li><code>PUSHF</code>、<code>POPF</code>：将<code>EFLAG</code>压栈，或将栈顶内容送<code>EFLAG</code></li>
</ul>
<p>入栈 <code>pushw %ax</code></p>
<ol>
<li>栈（Stack）是一种采用“先进后出”方式进行访问的一块存储区，用于嵌套过程调用。<font color="red">从高地址向低地址增长</font></li>
<li>“栈”不等于“堆栈”（由“堆”和“栈”组成）</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-2-2-1-1.png" alt="3-2-2-1-1" /></p>
<p>出栈 <code>popw %ax</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-2-2-1-2.png" alt="3-2-2-1-2" /></p>
<h4 id="定点算术指令"><a class="markdownIt-Anchor" href="#定点算术指令"></a> 定点算术指令</h4>
<ul>
<li>加/减运算（影响标志、不区分无/带符号）<br><code>ADD</code>：加，包括<code>addb</code>、<code>addw</code>、<code>addl</code>等<br><code>SUB</code>：减，包括<code>subb</code>、<code>subw</code>、<code>subl</code>等</li>
<li>增1/减1运算（影响除CF以外的标志、不区分无/带符号）<br><code>INC</code>：加，包括<code>incb</code>、<code>incw</code>、<code>incl</code>等<br><code>DEC</code>：减，包括<code>decb</code>、<code>decw</code>、<code>decl</code>等</li>
<li>取负运算（影响标志、若对0取负，则结果为0且CF清0，否则CF置1）<br><code>NEG</code>：取负，包括<code>negb</code>、<code>negw</code>、<code>negl</code>等</li>
<li>比较运算（做减法得到标志、不区分无/带符号）<br><code>CMP</code>：比较，包括<code>cmpb</code>、<code>cmpw</code>、<code>cmpl</code>等</li>
<li>乘/除运算（不影响标志、区分无/带符号）<br><code>MUL</code>/<code>IMUL</code>：无符号乘/带符号乘<code>DIV</code>/<code>IDIV</code>：带无符号除/带符号除</li>
</ul>
<p><strong>1.乘法指令：</strong></p>
<ul>
<li>指令中只给出一个操作数<code>SRC</code>：则另一个源操作数隐含在<code>AL</code>/<code>AX</code>/<code>EAX</code>中，将<code>SRC</code>和累加器内容相乘，结果存放在<code>AX</code>（16位）或<code>DX-AX</code>（32位）或 <code>EDX-EAX</code>（64位）中。<code>DX-AX</code>表示32位乘积的高、低16位分别在<code>DX</code>和<code>AX</code>中。<br>得到的结果的位数：<font color="red"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mtext>位</mtext><mo>×</mo><mi>n</mi><mtext>位</mtext><mo>=</mo><mn>2</mn><mi>n</mi><mtext>位</mtext></mrow><annotation encoding="application/x-tex">n\text{位}\times n\text{位}=2n\text{位}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mord text"><span class="mord cjk_fallback">位</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord text"><span class="mord cjk_fallback">位</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault">n</span><span class="mord text"><span class="mord cjk_fallback">位</span></span></span></span></span></font></li>
<li>指令中给出两个操作数<code>DST</code>和<code>SRC</code>，则将<code>DST</code>和<code>SRC</code>相乘，结果在<code>DST</code>中。<br>得到的结果的位数：<font color="red"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mtext>位</mtext><mo>×</mo><mi>n</mi><mtext>位</mtext><mo>=</mo><mi>n</mi><mtext>位</mtext></mrow><annotation encoding="application/x-tex">n\text{位}\times n\text{位}=n\text{位}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mord text"><span class="mord cjk_fallback">位</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord text"><span class="mord cjk_fallback">位</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord text"><span class="mord cjk_fallback">位</span></span></span></span></span></font></li>
<li>指令中给出三个操作数<code>REG</code>、<code>SRC</code>和<code>IMM</code>，则将<code>SRC</code>和立即数<code>IMM</code>相乘，结果在<code>REG</code>中。<br>得到的结果的位数：<font color="red"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mtext>位</mtext><mo>×</mo><mi>n</mi><mtext>位</mtext><mo>=</mo><mi>n</mi><mtext>位</mtext></mrow><annotation encoding="application/x-tex">n\text{位}\times n\text{位}=n\text{位}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mord text"><span class="mord cjk_fallback">位</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord text"><span class="mord cjk_fallback">位</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mord text"><span class="mord cjk_fallback">位</span></span></span></span></span></font></li>
</ul>
<p><strong>2.除法指令</strong></p>
<p>只明显指出除数，用<code>EDX-EAX</code>中内容除以指定的除数</p>
<ul>
<li>若为8位，则16位被除数在<code>AX</code>寄存器中，商送回<code>AL</code>，余数在<code>AH</code></li>
<li>若为16位，则32位被除数在<code>DX-AX</code>寄存器中，商送回<code>AX</code>，余数在<code>DX</code></li>
<li>若为32位，则被除数在<code>EDX-EAX</code>寄存器中，商送<code>EAX</code>，余数在<code>EDX</code></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-2-2-2-1.png" alt="3-2-2-2-1" /></p>
<h4 id="按位运算"><a class="markdownIt-Anchor" href="#按位运算"></a> 按位运算</h4>
<p><strong>1.移位运算</strong><font color="red">（左/右移时，最高/最低位送CF）</font></p>
<ul>
<li><code>SHL</code>/<code>SHR</code>: 逻辑左/右移，包括<code>shlb</code>、<code>shrw</code>、<code>shrl</code>等</li>
<li><code>SAL</code>/<code>SAR</code>: 算术左/右移，左移判溢出，右移高位补符（移位前、后符号位发生变化，则<code>OF</code>=1 ）包括<code>salb</code>、<code>sarw</code>、<code>sarl</code>等</li>
<li><code>ROL</code>/<code>ROR</code>: 循环左/右移，包括<code>rolb</code>、<code>rorw</code>、<code>roll</code>等</li>
<li><code>RCL</code>/<code>RCR</code>: 带进位循环左/右移，即：将<code>CF</code>作为操作数 一部分循环移位，包括<code>rclb</code>、<code>rcrw</code>、<code>rcll</code>等 <br><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-2-2-3-1.png" alt="3-2-2-3-1" /></li>
</ul>
<p><font color="red">注</font>：<code>sarw $1,%ax</code>可简写成<code>sarw %ax</code></p>
<p><strong>2.逻辑运算</strong></p>
<ul>
<li><code>NOT</code>：非，包括<code>notb</code>、<code>notw</code>、<code>notl</code>等</li>
<li><code>AND</code>：与，包括<code>andb</code>、<code>andw</code>、<code>andl</code>等</li>
<li><code>OR</code>：或，包括<code>orb</code>、<code>orw</code>、<code>orl</code>等</li>
<li><code>XOR</code>：异或，包括<code>xorb</code>、<code>xorw</code>、<code>xorl</code>等</li>
<li><code>TEST</code>：做“与”操作测试，仅影响标志</li>
</ul>
<p><font color="red">仅<code>NOT</code>不影响标志，其他指令<code>OF</code>=<code>CF</code>=0，而<code>ZF</code>和<code>SF</code>则根据结果设置：若全0，则<code>ZF</code>=1；若最高位为1，则<code>SF</code>=1</font></p>
<h4 id="控制转移指令"><a class="markdownIt-Anchor" href="#控制转移指令"></a> 控制转移指令</h4>
<p>指令执行可<font color="red">按顺序</font>或<font color="red">跳转到转移目标指令处</font>执行</p>
<ul>
<li>无条件转移指令<br><code>JMP DST</code>：无条件转移到目标指令<code>DST</code>处执行</li>
<li>条件转移<br><code>Jcc DST</code>：<code>cc</code>为条件码，根据标志（条件码）判断是否满足条件，若满足，则转移到目标指令<code>DST</code>处执行，否则按顺序执行</li>
<li>条件设置<br><code>SETcc DST</code>：按条件码<code>cc</code>判断的结果保存到<code>DST</code>（是一个8位寄存器）</li>
<li>调用和返回指令（用于过程调用）<br><code>CALL DST</code>：返回地址<code>RA</code>入栈，转<code>DST</code>处执行<br><code>RET</code>：从栈中取出返回地址<code>RA</code>，转到<code>RA</code>处执行</li>
<li>中断指令</li>
</ul>
<p><font color="red">这里我们可以注意到，调用的函数返回地址是<code>RA</code>，这非常重要</font></p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-2-2-4.png" alt="3-2-2-4" /></p>
<h2 id="c语言程序的机器级表示"><a class="markdownIt-Anchor" href="#c语言程序的机器级表示"></a> C语言程序的机器级表示</h2>
<h3 id="过程调用的机器级表示"><a class="markdownIt-Anchor" href="#过程调用的机器级表示"></a> 过程调用的机器级表示</h3>
<h4 id="过程调用的执行步骤"><a class="markdownIt-Anchor" href="#过程调用的执行步骤"></a> 过程调用的执行步骤</h4>
<p>过程调用的执行步骤(<code>P</code>为调用者，<code>Q</code>为被调用者)</p>
<ol>
<li><code>P</code>将入口参数（实参）放到<code>Q</code>能访问到的地方；</li>
<li><code>P</code>保存返回地址，然后将控制转移到<code>Q</code>； <font color="red">（CALL指令）</font></li>
<li><code>Q</code>保存<code>P</code>的现场，并为自己的非静态局部变量分配空间；</li>
<li>执行<code>Q</code>的过程体（函数体）；</li>
<li><code>Q</code>恢复<code>P</code>的现场，释放局部变量空间；</li>
<li><code>Q</code>取出返回地址，将控制转移到<code>P</code>。<font color="red">（RET指令）</font></li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-3-1-1.png" alt="3-3-1-1" /></p>
<h4 id="ia-32的寄存器使用约定"><a class="markdownIt-Anchor" href="#ia-32的寄存器使用约定"></a> IA-32的寄存器使用约定</h4>
<ul>
<li>调用者保存寄存器：<code>EAX</code>、<code>EDX</code>、<code>ECX</code><br />
当过程<code>P</code>调用过程<code>Q</code>时，<code>Q</code>可以直接使用这三个寄存器，不用将它们的值保存到栈中。如果<code>P</code>在从<code>Q</code>返回后还要用这三个寄存器的话，<code>P</code>应在转到<code>Q</code>之前先保存，并在从<code>Q</code>返回后先恢复它们的值再使用。</li>
<li>被调用者保存寄存器：<code>EBX</code>、<code>ESI</code>、<code>EDI</code><br />
<code>Q</code>必须先将它们的值保存到栈中再使用它们，并在返回<code>P</code>之前恢复它们的值。</li>
<li><code>EBP</code>和<code>ESP</code>分别是帧指针寄存器和栈指针寄存器，分别用来指向当前栈帧的<font color="red">底部</font>和<font color="red">顶部</font>。</li>
</ul>
<p><font color="red">注意</font>：</p>
<ol>
<li>所以为了减少准备和结束阶段的开销，每个过程应该先使用<code>EAX</code>、<code>ECX</code>、<code>EDX</code>，这样就不用存栈。</li>
<li>返回参数总在<code>EAX</code>中</li>
</ol>
<h4 id="过程函数的结构"><a class="markdownIt-Anchor" href="#过程函数的结构"></a> 过程（函数）的结构</h4>
<p>一个C过程的大致结构如下：<br />
<font color="red">准备阶段</font>：</p>
<ul>
<li>形成帧底：<code>push</code>指令 和<code>mov</code>指令</li>
<li>生成栈帧（如果需要的话）：<code>sub</code>指令或<code>and</code>指令</li>
<li>保存现场（如果有被调用者保存寄存器）：<code>mov</code>指令<font color="red">（为什么？因为所有过程共享一套GPRs）</font></li>
</ul>
<p><font color="red">过程（函数）体</font>：</p>
<ul>
<li>分配局部变量空间，并赋值</li>
<li>具体处理逻辑，如果遇到函数调用时，<br>(1) 准备参数：将实参送栈帧入口参数处<br>(2) <code>CALL</code>指令：保存返回地址并转被调用函数</li>
<li>在<code>EAX</code>中准备返回参数</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-3-1-3.png" alt="3-3-1-3" /></p>
<p>第一个入口参数在<code>EBP+8</code>的位置（<code>EBP</code>存<code>EBP</code>在<code>Caller</code>中的旧值，<code>EBP+4</code>存返回地址）</p>
<p><font color="red">结束阶段</font>：</p>
<ul>
<li>退栈：<code>leave</code>指令或<code>pop</code>指令</li>
<li>取返回地址返回：<code>ret</code>指令</li>
</ul>
<h4 id="选择和循环语句"><a class="markdownIt-Anchor" href="#选择和循环语句"></a> 选择和循环语句</h4>
<p><strong>1.switch-case语句</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">movl    8(%ebp),%eax</span><br><span class="line">subl    $10,%eax</span><br><span class="line">cmpl    $7,%eax</span><br><span class="line">ja      .L5</span><br><span class="line">jmp     *.L8(,%eax,4)</span><br><span class="line">.L1</span><br><span class="line">	...</span><br><span class="line">.L2</span><br><span class="line">	...</span><br><span class="line">.L3</span><br><span class="line">	...</span><br><span class="line">.L4</span><br><span class="line">	...</span><br><span class="line">.L5</span><br><span class="line">	...</span><br><span class="line">.L7</span><br><span class="line">	...</span><br></pre></td></tr></table></figure>
<p>跳转表在目标文件的只读节中，按4字节边界对齐。</p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-3-1-4-1.png" alt="3-3-1-4-1" /></p>
<p><strong>2.循环结构与递归结构的比较</strong></p>
<p>循环结构一般使用的都是简单变量，直接保存到寄存器中。而递归结构每次都要分配栈空间，时间和空间的开销都非常得大。（比如递归写法的快速幂和迭代写法的快速幂，速度会差几十倍至几十倍（取决于数据范围）。<font color="red">所以，为了提高程序性能，能使用非递归方式执行则最好用非递归结构。</font></p>
<h2 id="复杂数据类型的分配和访问"><a class="markdownIt-Anchor" href="#复杂数据类型的分配和访问"></a> 复杂数据类型的分配和访问</h2>
<h3 id="数组"><a class="markdownIt-Anchor" href="#数组"></a> 数组</h3>
<table>
<thead>
<tr>
<th style="text-align:center">数组定义</th>
<th style="text-align:center">数组名</th>
<th style="text-align:center">数组元素类型</th>
<th style="text-align:center">数组元素大小(B)</th>
<th style="text-align:center">数组大小(B)</th>
<th style="text-align:center">起始地址</th>
<th style="text-align:center">元素i的地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">char S[10]</td>
<td style="text-align:center">S</td>
<td style="text-align:center">char</td>
<td style="text-align:center">1</td>
<td style="text-align:center">10</td>
<td style="text-align:center">&amp;S[0]</td>
<td style="text-align:center">&amp;S[0]+i</td>
</tr>
<tr>
<td style="text-align:center">char* SA[10]</td>
<td style="text-align:center">SA</td>
<td style="text-align:center">char*</td>
<td style="text-align:center">4</td>
<td style="text-align:center">40</td>
<td style="text-align:center">&amp;SA[0]</td>
<td style="text-align:center">&amp;SA[0]+4*i</td>
</tr>
<tr>
<td style="text-align:center">double D[10]</td>
<td style="text-align:center">D</td>
<td style="text-align:center">double</td>
<td style="text-align:center">8</td>
<td style="text-align:center">80</td>
<td style="text-align:center">&amp;D[0]</td>
<td style="text-align:center">&amp;D[0]+8*i</td>
</tr>
<tr>
<td style="text-align:center">double* DA[10]</td>
<td style="text-align:center">DA</td>
<td style="text-align:center">double*</td>
<td style="text-align:center">4</td>
<td style="text-align:center">40</td>
<td style="text-align:center">&amp;DA[0]</td>
<td style="text-align:center">&amp;DA[0]+4*i</td>
</tr>
</tbody>
</table>
<p><strong>数组元素和指针变量的表达式计算示例：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">表达式</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">值的计算方式</th>
<th style="text-align:center">汇编代码</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">A</td>
<td style="text-align:center">int*</td>
<td style="text-align:center">SA</td>
<td style="text-align:center">leal (%ecx),%eax</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">A[0]</td>
<td style="text-align:center">int</td>
<td style="text-align:center">M[SA]</td>
<td style="text-align:center">movl (%ecx),%eax</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">A[i]</td>
<td style="text-align:center">int</td>
<td style="text-align:center">M[SA+4*i]</td>
<td style="text-align:center">movl (%ecx,%edx,4),%eax</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">&amp;A[3]</td>
<td style="text-align:center">int*</td>
<td style="text-align:center">SA+12</td>
<td style="text-align:center">leal 12(%ecx),%eax</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">&amp;A[i]-A</td>
<td style="text-align:center">int</td>
<td style="text-align:center">(SA+4*i-SA)/4=i</td>
<td style="text-align:center">movl %edx,%eax</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">*(A+i)</td>
<td style="text-align:center">int</td>
<td style="text-align:center">M[SA+4*i]</td>
<td style="text-align:center">movl (%ecx,%edx,4),%eax</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">*(&amp;A[0]+i-1)</td>
<td style="text-align:center">int</td>
<td style="text-align:center">M[SA+4*i-4]</td>
<td style="text-align:center">movl -4(%ecx,edx,4),%eax</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">A+i</td>
<td style="text-align:center">int*</td>
<td style="text-align:center">SA+4*i</td>
<td style="text-align:center">leal (%ecx,%edx,4),%eax</td>
</tr>
</tbody>
</table>
<p><strong>指针数组和多维数组：</strong></p>
<ul>
<li>由若干指向同类目标的指针变量组成的数组称为指针数组。<br />
其定义的一般形式如下：<br />
<code>存储类型 数据类型 *指针数组名[元素个数]</code><br />
例如，<code>int *a[10];</code>定义了一个指针数组<code>a</code>，它有10个元素，每个元素都是一个指向int型数据的指针。</li>
<li>一个指针数组可以实现一个二维数组</li>
</ul>
<h3 id="结构体和联合体"><a class="markdownIt-Anchor" href="#结构体和联合体"></a> 结构体和联合体</h3>
<h4 id="结构体成员在内存的存放和访问"><a class="markdownIt-Anchor" href="#结构体成员在内存的存放和访问"></a> 结构体成员在内存的存放和访问</h4>
<ul>
<li>分配在栈中的auto结构型变量的首地址由<code>EBP</code>或<code>ESP</code>来定位</li>
<li>分配在静态区的结构型变量首地址是一个确定的静态区地址</li>
<li>结构型变量 x 各成员首址可用“基址加偏移量”的寻址方式</li>
</ul>
<p><strong>结构体数据作为入口参数：</strong></p>
<p>首先，当结构体变量需要作为一个函数的形参时，形参和调用函数中的实参应具有相同结构。</p>
<p>然后，其传递有两种方式：</p>
<ul>
<li>若采用按值传递，则结构成员都要复制到栈中参数区，这既增加时间开销又增加空间开销，且更新后的数据无法在调用过程使用</li>
<li><font color="red">通常应按地址传递</font>，即：在执行CALL指令前，仅需传递指向结构体的指针而不需复制每个成员到栈中</li>
</ul>
<h4 id="联合体数据的分配和访问"><a class="markdownIt-Anchor" href="#联合体数据的分配和访问"></a> 联合体数据的分配和访问</h4>
<p>联合体各成员共享存储空间，按最大长度成员所需空间大小为目标</p>
<p>注：联合体通常用于特殊场合，如，当事先知道某种数据结构中的不同字段的使用时间是互斥的，就可将这些字段声明为联合，以减少空间。<font color="red">但有时会得不偿失，可能只会减少少量空间却大大增加处理复杂性。</font></p>
<h3 id="数据的对齐存放"><a class="markdownIt-Anchor" href="#数据的对齐存放"></a> 数据的对齐存放</h3>
<h4 id="为什么要对齐"><a class="markdownIt-Anchor" href="#为什么要对齐"></a> 为什么要对齐</h4>
<p>各种不同长度的数据存放时，有两种处理方式:</p>
<ul>
<li>按边界对齐（若一个字为32位）<br />
字地址：4的倍数(低两位为0)<br />
半字地址：2的倍数(低位为0)<br />
字节地址：任意</li>
<li>不按边界对齐<br />
坏处：可能会增加访存次数</li>
</ul>
<h4 id="对齐方式的设定"><a class="markdownIt-Anchor" href="#对齐方式的设定"></a> 对齐方式的设定</h4>
<p><code>#pragma pack(n)</code></p>
<ul>
<li>为编译器指定结构体或类内部的成员变量的对齐方式。</li>
<li>当自然边界（如int型按4字节、short型按2字节、float按4字节）比n大时，按n字节对齐。</li>
<li>缺省或<code>#pragma pack()</code> ，按自然边界对齐。</li>
</ul>
<p><code>__attribute__((aligned(m)))</code></p>
<ul>
<li>为编译器指定一个结构体或类或联合体或一个单独的变量(对象)的对齐方式。</li>
<li>按m字节对齐(m必须是2的幂次方)，且其占用空间大小也是m的整数倍，以保证在申请连续存储空间时各元素也按m字节对齐。</li>
</ul>
<p><code>__attribute__((packed))</code></p>
<ul>
<li>不按边界对齐，称为紧凑方式。</li>
</ul>
<h3 id="越界访问和缓冲区溢出"><a class="markdownIt-Anchor" href="#越界访问和缓冲区溢出"></a> 越界访问和缓冲区溢出</h3>
<p><strong>先看一个例子直观感受：</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/essay/introduction-to-computer-systems/3-4-4-4.png" alt="3-4-4-4" /></p>
<p>当<code>i&gt;1</code>的时候，就出现了问题，因为数组访问越界了，影响到了其他位置的值甚至直接爆栈。</p>
<p><strong>C语言程序中对数组的访问可能会有意或无意地超越数组存储区范围而无法发现。</strong></p>
<p>数组存储区可看成是一个缓冲区，超越数组存储区范围的写入操作<br />
称为缓冲区溢出。<br />
<strong>例如</strong>，对于一个有10个元素的char型数组，其定义的缓冲区有10个字节。若写一个字符串到这个缓冲区，那么只要写入的字符串多于9个字符（结束符‘\0’占一个字节），就会发生“写溢出”。</p>
<p><strong>带来的破坏：</strong></p>
<ul>
<li>缓冲区溢出是一种非常普遍、非常危险的漏洞，在各种操作系统、<br />
应用软件中广泛存在。</li>
<li>缓冲区溢出攻击是利用缓冲区溢出漏洞所进行的攻击。利用缓冲区<br />
溢出攻击，可导致程序运行失败、系统关机、重新启动等后果。</li>
</ul>
<h2 id="x86-64-体系"><a class="markdownIt-Anchor" href="#x86-64-体系"></a> x86-64 体系</h2>
<h3 id="x86-64操作数格式"><a class="markdownIt-Anchor" href="#x86-64操作数格式"></a> x86-64操作数格式</h3>
<p>操作数的寻址有如下方式：</p>
<ul>
<li>立即数，用来表示常数值，书写方式为’$'加标准C表示法表示的整数，如$-577或$0x1F。</li>
<li>寄存器，<code>R[ra]</code>表示<code>ra</code>寄存器的内容。</li>
<li>内存引用，<code>M[Addr]</code>表示地址为<code>Addr</code>的存储单元内的值</li>
</ul>
<p>立即数<code>Imm</code>、基址寄存器<code>rb</code>、变址寄存器<code>ri</code>、比例因子<code>s</code>（其值为1、2、4、8）。</p>
<table>
<thead>
<tr>
<th style="text-align:left">类型</th>
<th style="text-align:left">格式</th>
<th style="text-align:left">操作数值</th>
<th style="text-align:left">名称</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">立即数</td>
<td style="text-align:left">$Imm</td>
<td style="text-align:left">Imm</td>
<td style="text-align:left">立即数寻址</td>
</tr>
<tr>
<td style="text-align:left">寄存器</td>
<td style="text-align:left">ra</td>
<td style="text-align:left">R[ra]</td>
<td style="text-align:left">寄存器寻址</td>
</tr>
<tr>
<td style="text-align:left">存储器</td>
<td style="text-align:left">Imm</td>
<td style="text-align:left">M[Imm]</td>
<td style="text-align:left">绝对寻址</td>
</tr>
<tr>
<td style="text-align:left">存储器</td>
<td style="text-align:left">(ra)</td>
<td style="text-align:left">M[R[ra]]</td>
<td style="text-align:left">间接寻址</td>
</tr>
<tr>
<td style="text-align:left">存储器</td>
<td style="text-align:left">Imm(rb)</td>
<td style="text-align:left">M[Imm+R[rb]]</td>
<td style="text-align:left">（基址+偏移量）寻址</td>
</tr>
<tr>
<td style="text-align:left">存储器</td>
<td style="text-align:left">(rb,ri)</td>
<td style="text-align:left">M[R[rb]+R[ri]]</td>
<td style="text-align:left">变址寻址</td>
</tr>
<tr>
<td style="text-align:left">存储器</td>
<td style="text-align:left">Imm(rb,ri)</td>
<td style="text-align:left">M[Imm+R[rb]+R[ri]]</td>
<td style="text-align:left">变址寻址</td>
</tr>
<tr>
<td style="text-align:left">存储器</td>
<td style="text-align:left">(,ri,s)</td>
<td style="text-align:left">M[R[ri]*s]</td>
<td style="text-align:left">比例变址寻址</td>
</tr>
<tr>
<td style="text-align:left">存储器</td>
<td style="text-align:left">Imm(,ri,s)</td>
<td style="text-align:left">M[Imm+R[ri]*s]</td>
<td style="text-align:left">比例变址寻址</td>
</tr>
<tr>
<td style="text-align:left">存储器</td>
<td style="text-align:left">(rb,ri,s)</td>
<td style="text-align:left">M[R[rb]+R[ri]*s]</td>
<td style="text-align:left">比例变址寻址</td>
</tr>
<tr>
<td style="text-align:left">存储器</td>
<td style="text-align:left">Imm(rb,ri,s)</td>
<td style="text-align:left">M[Imm+R[rb]+R[ri]*s]</td>
<td style="text-align:left">比例变址寻址</td>
</tr>
</tbody>
</table>
<h3 id="x86-64寄存器"><a class="markdownIt-Anchor" href="#x86-64寄存器"></a> x86-64寄存器</h3>
<p><strong>X86-64有16个64位寄存器</strong>，分别是：<code>rax</code>，<code>rbx</code>，<code>rcx</code>，<code>rdx</code>，<code>esi</code>，<code>edi</code>，<code>rbp</code>，<code>rsp</code>，<code>r8</code>，<code>r9</code>，<code>r10</code>，<code>r11</code>，<code>r12</code>，<code>r13</code>，<code>r14</code>，<code>r15</code>。其中：</p>
<ul>
<li><code>rax</code> 作为函数返回值使用。</li>
<li><code>rsp</code> 栈指针寄存器，指向栈顶</li>
<li><code>rdi</code>，<code>rsi</code>，<code>rdx</code>，<code>rcx</code>，<code>r8</code>，<code>r9</code> 用作函数参数，依次对应第1参数，第2参数……</li>
<li><code>rbx</code>，<code>rbp</code>，<code>r12</code>，<code>r13</code>，<code>r14</code>，<code>r15</code> 用作数据存储，遵循被调用者使用规则，简单说就是随便用，调用子函数之前要备份它，以防他被修改</li>
<li><code>r10</code>，<code>r11</code> 用作数据存储，遵循调用者使用规则，简单说就是使用之前要先保存原值</li>
</ul>
<p><font color="red">注：</font></p>
<ul>
<li>最多有六个整形或指针型参数通过寄存器传递，超过六个只能通过栈来传递<font color="red">（所以在传递参数的时候尽量保证传递的参数个数在6个以内，如果是数组就用传递指针，这样可以提高程序的运行效率）</font></li>
<li>在函数中尽量使用<code>rax</code>,<code>r10</code>，<code>r11</code>，若使用<code>rbx</code>,<code>rbp</code>,<code>r12</code>，<code>r13</code>，<code>r14</code>,<code>r15</code>则需要将它们先保存在栈中在使用，最后返回前再恢复其值</li>
</ul>
<table>
<thead>
<tr>
<th>63~0位</th>
<th>31~0位</th>
<th>15~0位</th>
<th>7~0位</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>%rax</td>
<td>%eax</td>
<td>%ax</td>
<td>%al</td>
<td>返回值</td>
</tr>
<tr>
<td>%rbx</td>
<td>%ebx</td>
<td>%bx</td>
<td>%bl</td>
<td>被调用者保存</td>
</tr>
<tr>
<td>%rcx</td>
<td>%ecx</td>
<td>%cx</td>
<td>%cl</td>
<td>第4个参数</td>
</tr>
<tr>
<td>%rdx</td>
<td>%edx</td>
<td>%dx</td>
<td>%dl</td>
<td>第3个参数</td>
</tr>
<tr>
<td>%rsi</td>
<td>%esi</td>
<td>%si</td>
<td>%sil</td>
<td>第2个参数</td>
</tr>
<tr>
<td>%rdi</td>
<td>%edi</td>
<td>%di</td>
<td>%dil</td>
<td>第1个参数</td>
</tr>
<tr>
<td>%rbp</td>
<td>%ebp</td>
<td>%bp</td>
<td>%bpl</td>
<td>被调用者保存</td>
</tr>
<tr>
<td>%rsp</td>
<td>%esp</td>
<td>%sp</td>
<td>%spl</td>
<td>栈指针</td>
</tr>
<tr>
<td>%r8</td>
<td>%r8d</td>
<td>%r8w</td>
<td>%r8b</td>
<td>第5个参数</td>
</tr>
<tr>
<td>%r9</td>
<td>%r9d</td>
<td>%r9w</td>
<td>%r9b</td>
<td>第6个参数</td>
</tr>
<tr>
<td>%r10</td>
<td>%r10d</td>
<td>%r10w</td>
<td>%r10b</td>
<td>调用者保存</td>
</tr>
<tr>
<td>%r11</td>
<td>%r11d</td>
<td>%r11w</td>
<td>%r11b</td>
<td>调用者保存</td>
</tr>
<tr>
<td>%r12</td>
<td>%r12d</td>
<td>%r12w</td>
<td>%r12b</td>
<td>被调用者保存</td>
</tr>
<tr>
<td>%r13</td>
<td>%r13d</td>
<td>%r13w</td>
<td>%r13b</td>
<td>被调用者保存</td>
</tr>
<tr>
<td>%r14</td>
<td>%r14d</td>
<td>%r14w</td>
<td>%r14b</td>
<td>被调用者保存</td>
</tr>
<tr>
<td>%r15</td>
<td>%r15d</td>
<td>%r15w</td>
<td>%r15b</td>
<td>被调用者保存</td>
</tr>
</tbody>
</table></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Lemon</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://lemonaaaaa.com/2020/05/introduction-to-computer-systems/">http://lemonaaaaa.com/2020/05/introduction-to-computer-systems/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://lemonaaaaa.com" target="_blank">lemonaaaaa's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%B3%BB%E7%BB%9F/">系统</a><a class="post-meta__tags" href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a><a class="post-meta__tags" href="/tags/%E6%B1%87%E7%BC%96/">汇编</a><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">计算机基础</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/codeforces/covers/round-660.png" data-sites="google,facebook,twitter,linkedin,wechat,weibo,qq,qzone,douban"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/wechatpay.png" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/05/git-pull-recall/"><img class="prev_cover" src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/default_cover.jpg" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">git pull 之后本地恢复到之前版本</div></div></a></div><div class="next-post pull_right"><a href="/2020/04/user-agent/"><img class="next_cover" src="https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/default_cover.jpg" onerror="onerror=null;src='https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">常见的一些User-Agent</div></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '91b8613e680e62c524db',
  clientSecret: '53b809955b106be435b5529b66a9fc52d1d46a87',
  repo: 'Blog-Comments',
  owner: 'lemonaaaaa',
  admin: ['lemonaaaaa'],
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN',
  perPage: 10,
  distractionFreeMode: false,
  pagerDirection: 'last',
  createIssueManually: false,
  updateCountCallback: commentCount
})
gitalk.render('gitalk-container')

function commentCount(n){
  try {
    document.getElementsByClassName('gitalk-comment-count')[0].innerHTML= n
  } catch (e) {
    return false
  }
}</script></div></article></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/lemonaaaaa/CDN/img/default_top_img.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By Lemon</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>$(function () {
  $('span.katex-display').wrap('<div class="katex-wrap"></div>')
})</script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script id="ribbon_piao" mobile="true" src="/js/third-party/piao.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script><script src="/js/third-party/click_heart.js"></script><script src="/js/search/local-search.js"></script><script>var endLoading = function () {
  document.body.style.overflow = 'auto';
  document.getElementById('loading-box').classList.add("loaded")
}
window.addEventListener('load',endLoading)</script></body></html>